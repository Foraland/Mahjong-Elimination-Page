System.register("chunks:///_virtual/app.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Core.ts","./handle.ts"],(function(n){var t,e,i,s,c,u,o,r;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){i=n.cclegacy,s=n.game,c=n.Game},function(n){u=n.default},function(n){o=n.cccInited,r=n.appInited}],execute:function(){i._RF.push({},"121dfhPYx1FV4MaGWQefe6o","app",void 0);var a=n("App",function(n){function i(){return n.call(this)||this}return t(i,n),e(i,null,[{key:"inst",get:function(){return this._inst||(this._inst=new i),this._inst}}]),i}(u));a._inst=null;var l=n("app",a.inst);o&&s.once(c.EVENT_ENGINE_INITED,(function(){})),r&&l.once(a.EventType.EVENT_APPINIT_FINISHED,(function(){})),i._RF.pop()}}}));

System.register("chunks:///_virtual/AppInit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseAppInit.ts","./app.ts"],(function(r){var n,e,t,i,o,s,a,p,l,u,c,f,g,h;return{setters:[function(r){n=r.applyDecoratedDescriptor,e=r.inheritsLoose,t=r.initializerDefineProperty,i=r.assertThisInitialized,o=r.asyncToGenerator},function(r){s=r.cclegacy,a=r._decorator,p=r.ProgressBar,l=r.Label,u=r.Node,c=r.macro,f=r.v3},function(r){g=r.default},function(r){h=r.app}],execute:function(){var d,b,y,I,v,B,A,L,m;s._RF.push({},"598f2EhUohEebUzsqwXHool","AppInit",void 0);var z=a.ccclass,N=a.property;r("AppInit",(d=z("AppInit"),b=N(p),y=N(l),I=N(u),d((A=n((B=function(r){function n(){for(var n,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=r.call.apply(r,[this].concat(o))||this,t(n,"progressBar",A,i(n)),t(n,"lbl",L,i(n)),t(n,"progressNode",m,i(n)),n}e(n,r);var s=n.prototype;return s.getUserAssetNum=function(){return 1},s.onUserInit=function(r){this.onLogin()},s.onLogin=function(){var r=o((function*(){this.nextInit()}));return function(){return r.apply(this,arguments)}}(),s.sdkInit=function(){h.api.sdk.API.showShareMenu()},s.onFinish=function(){this.node.destroy()},s.onProgress=function(r,n){this.progressBar.progress=r/n,this.lbl.string=Math.floor(r/n*100)+"%";var e=this.progressNode.position,t=r/n*this.progressBar.totalLength-10;this.progressNode.position=f(t,e.y,e.z)},n}(g)).prototype,"progressBar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(B.prototype,"lbl",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(B.prototype,"progressNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=B))||v));c.ENABLE_MULTI_TOUCH=!1,h.api.sdk.isBytedance()&&h.api.sdk.BytedanceSidebar.listenFromSidebar((function(r){console.log("侧边栏监听结果：",r)})),s._RF.pop()}}}));

System.register("chunks:///_virtual/Audio.ts",["cc"],(function(t){var e,u,i;return{setters:[function(t){e=t.cclegacy,u=t.AudioSource,i=t.Node}],execute:function(){e._RF.push({},"a40e7emzaxEXKUMqM7SQR28","Audio",void 0);t("default",function(){function t(){this.volume=1,this.volumeScale=1,this.mute=!1,this.endedCallback=null,this.startedCallback=null,this.audioSource=null;var t=new i("audio");this.audioSource=t.addComponent(u),t.on(u.EventType.ENDED,this.onAudioEnded,this),t.on(u.EventType.STARTED,this.onAudioStarted,this)}var e=t.prototype;return e.onAudioEnded=function(){if(this.endedCallback){var t=this.endedCallback;this.endedCallback=null,t()}},e.onAudioStarted=function(){if(this.startedCallback){var t=this.startedCallback;this.startedCallback=null,t()}},e.play=function(t,e,u){return void 0===e&&(e=null),void 0===u&&(u=null),this.audioSource.clip=t,this.endedCallback=e,this.startedCallback=u,this.audioSource.play(),this},e.stop=function(){return this.audioSource.stop(),this.audioSource.node.emit(u.EventType.ENDED),this},e.pause=function(){return this.audioSource.pause(),this},e.resume=function(){return this.audioSource.play(),this},e.setVolume=function(t,e){return void 0===t&&(t=1),this.volume=t,"number"==typeof e&&(this.volumeScale=e),this.audioSource.volume=t*this.volumeScale*(this.mute?0:1),this},e.getVolume=function(){return this.volume},e.setVolumeScale=function(t){return void 0===t&&(t=1),this.volumeScale=t,this.audioSource.volume=this.volume*t*(this.mute?0:1),this},e.getVolumeScale=function(){return this.volumeScale},e.setLoop=function(t){return this.audioSource.loop=t,this},e.getLoop=function(){return this.audioSource.loop},e.setMute=function(t){return void 0===t&&(t=!0),this.mute=t,this.setVolume(this.volume),this},e.getMute=function(){return this.mute},e.onEnded=function(t){return this.endedCallback=t,this},e.clear=function(){return this.volume=1,this.volumeScale=1,this.mute=!1,this.endedCallback=null,this.startedCallback=null,this.audioSource&&(this.audioSource.stop(),this.audioSource.volume=1,this.audioSource.clip=null,this.audioSource.loop=!1),this},e.destroy=function(){this.clear(),this.audioSource.destroy(),this.audioSource.node.destroy(),this.audioSource=null},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioEngine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(e){var t,u,s;return{setters:[function(e){t=e.createClass},function(e){u=e.cclegacy},function(e){s=e.default}],execute:function(){u._RF.push({},"7a6389cgB9OaYjMP8cuG+mF","AudioEngine",void 0),e("default",function(){function e(){this.audioID=1,this.endedCallbackMap=new Map,this.effectMap=new Map,this.music=null,this.musicMute=!1,this.effectMute=!1,this.musicVolume=1,this.musicVolumeScale=1,this.effectVolume=1,this.effectVolumeScale=1}var u=e.prototype;return u.playEffect=function(e,t,u,i,c){var n=this;void 0===t&&(t=1),void 0===u&&(u=!1),void 0===i&&(i=null),void 0===c&&(c=null),this.audioID>1e5&&(this.audioID=1);var f=this.audioID++,l=s.inst.getAudio();return this.effectMap.set(f,l),c&&this.endedCallbackMap.set(f,c),l.setLoop(u).setMute(this.effectMute).setVolume(t,this.effectVolumeScale).play(e,(function(){s.inst.putAudio(l),n.effectMap.delete(f);var e=n.endedCallbackMap.get(f);e&&(n.endedCallbackMap.delete(f),e())}),(function(){i&&i(f)})),f},u.stopEffect=function(e){var t;return!(null==(t=this.effectMap.get(e))||!t.stop())},u.stopAllEffects=function(){this.effectMap.forEach((function(e){e.stop()}))},u.pauseEffect=function(e){var t;return!(null==(t=this.effectMap.get(e))||!t.pause())},u.pauseAllEffects=function(){this.effectMap.forEach((function(e){e.pause()}))},u.resumeEffect=function(e){var t;return!(null==(t=this.effectMap.get(e))||!t.resume())},u.resumeAllEffects=function(){this.effectMap.forEach((function(e){e.resume()}))},u.setEffectMute=function(e,t){var u;return!(null==(u=this.effectMap.get(e))||!u.setMute(t))},u.setAllEffectsMute=function(e){this.effectMute=e,this.effectMap.forEach((function(t){t.setMute(e)}))},u.getEffectMute=function(e){var t;return!(null==(t=this.effectMap.get(e))||!t.getMute())},u.getAllEffectsMute=function(){return this.effectMute},u.setEffectVolume=function(e,t){var u;return!(null==(u=this.effectMap.get(e))||!u.setVolume(t))},u.setAllEffectsVolume=function(e){this.effectVolume=e,this.effectMap.forEach((function(t){t.setVolume(e)}))},u.getEffectVolume=function(e){var t;return(null==(t=this.effectMap.get(e))?void 0:t.getVolume())||0},u.getAllEffectsVolume=function(){return this.effectVolume},u.setEffectVolumeScale=function(e,t){var u;return!(null==(u=this.effectMap.get(e))||!u.setVolumeScale(t))},u.setAllEffectsVolumeScale=function(e){this.effectVolumeScale=e,this.effectMap.forEach((function(t){t.setVolumeScale(e)}))},u.getEffectVolumeScale=function(e){var t;return(null==(t=this.effectMap.get(e))?void 0:t.getVolumeScale())||0},u.getAllEffectsVolumeScale=function(){return this.effectVolumeScale},u.playMusic=function(e,t,u){return void 0===t&&(t=1),void 0===u&&(u=null),this.music&&this.music.destroy(),this.music=s.inst.getAudio(),this.music.setLoop(!0).setVolume(t).play(e,null,u),0},u.stopMusic=function(){var e;return!(null==(e=this.music)||!e.stop())},u.pauseMusic=function(){var e;return!(null==(e=this.music)||!e.pause())},u.resumeMusic=function(){var e;return!(null==(e=this.music)||!e.resume())},u.setMusicMute=function(e){var t;return this.musicMute=e,!(null==(t=this.music)||!t.setMute(e))},u.getMusicMute=function(){return this.musicMute},u.setMusicVolume=function(e){var t;return this.musicVolume=e,!(null==(t=this.music)||!t.setVolume(e))},u.getMusicVolume=function(){return this.musicVolume},u.setMusicVolumeScale=function(e){var t;return this.musicVolumeScale=e,!(null==(t=this.music)||!t.setVolumeScale(e))},u.getMusicVolumeScale=function(){return this.musicVolumeScale},u.setEndedCallback=function(e,t){var u;return 0===e?!(null==(u=this.music)||!u.onEnded(t)):!!this.effectMap.has(e)&&(this.endedCallbackMap.set(e,t),!0)},u.stop=function(e){return 0===e?this.stopMusic():this.stopEffect(e)},u.pause=function(e){return 0===e?this.pauseMusic():this.pauseEffect(e)},u.resume=function(e){return 0===e?this.resumeMusic():this.resumeEffect(e)},u.pauseAll=function(){this.pauseMusic(),this.pauseAllEffects()},u.resumeAll=function(){this.resumeMusic(),this.resumeAllEffects()},u.stopAll=function(){this.stopMusic(),this.stopAllEffects()},u.setVolume=function(e,t){return 0===e?this.setMusicVolume(t):this.setEffectVolume(e,t)},u.getVolume=function(e){return 0===e?this.getMusicVolume():this.getEffectVolume(e)},u.setVolumeScale=function(e,t){return 0===e?this.setMusicVolumeScale(t):this.setEffectVolumeScale(e,t)},u.getVolumeScale=function(e){return 0===e?this.getMusicVolumeScale():this.getEffectVolumeScale(e)},t(e,null,[{key:"inst",get:function(){return this._inst||(this._inst=new e),this._inst}}]),e}())._inst=null,u._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Audio.ts"],(function(t){var n,i,u;return{setters:[function(t){n=t.createClass},function(t){i=t.cclegacy},function(t){u=t.default}],execute:function(){i._RF.push({},"5902c7PSWZGdZWpqw8PJxhX","AudioManager",void 0),t("default",function(){function t(){this.audioArray=[]}var i=t.prototype;return i.getAudio=function(){return this.audioArray.length?this.audioArray.pop():new u},i.putAudio=function(t){t.clear(),this.audioArray.push(t)},n(t,null,[{key:"inst",get:function(){return this._inst||(this._inst=new t),this._inst}}]),t}())._inst=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/BaseAppInit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Core.ts","./BaseManager.ts"],(function(t){var e,n,i,a,s,r,o,u,f,c,l,_,d,p;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,a=t._decorator,s=t.settings,r=t.Settings,o=t.assetManager,u=t.Button,f=t.Node,c=t.isValid,l=t.EventTouch,_=t.Component},function(t){d=t.default},function(t){p=t.default}],execute:function(){var h;i._RF.push({},"2110bB6HGxDDrnZkm2wbIsw","BaseAppInit",void 0);var g=a.ccclass,m="app-admin",b="app-model",T="app-control",y="app-controller",v="app-manager";t("default",g("BaseAppInit")(h=function(t){function i(){var e;return(e=t.call(this)||this)._base_completed=0,e._base_completed_cache=0,e._base_inited=!1,e._base_finished=!1,e}e(i,t);var a=i.prototype;return a.startInit=function(){var t=this,e=s.querySettings(r.Category.ASSETS,"projectBundles");d.inst.lib.task.createAny().add([function(t,n){if(-1===e.indexOf(T))return t();o.preloadAny({url:T},{ext:"bundle"},null,(function(e){if(e)return n(.1);t()}))},function(t,n){if(-1===e.indexOf(y))return t();o.preloadAny({url:y},{ext:"bundle"},null,(function(e){if(e)return n(.1);t()}))},function(t,n){if(-1===e.indexOf(b))return t();o.preloadAny({url:b},{ext:"bundle"},null,(function(e){if(e)return n(.1);t()}))},function(t,n){if(-1===e.indexOf(m))return t();o.preloadAny({url:m},{ext:"bundle"},null,(function(e){if(e)return n(.1);t()}))},function(t,n){if(-1===e.indexOf(v))return t();o.preloadAny({url:v},{ext:"bundle"},null,(function(e){if(e)return n(.1);t()}))}]).add((function(t,n){if(-1===e.indexOf(T))return t();o.loadBundle(T,(function(e){if(e)return n(.1);t()}))})).add((function(t,n){if(-1===e.indexOf(y))return t();o.loadBundle(y,(function(e){if(e)return n(.1);t()}))})).add((function(t,n){if(-1===e.indexOf(b))return t();o.loadBundle(b,(function(e){if(e)return n(.1);t()}))})).add((function(t,n){if(-1===e.indexOf(m))return t();o.loadBundle(m,(function(e){if(e)return n(.1);t()}))})).add((function(t){p.init(v,t)})).start((function(){t._base_inited=!0,t.onProgress(0,t._base_total),p.initManagers((function(){t.nextInit()}),(function(){t._base_user_total<=0||t.onUserInit(t._base_completed-t._base_mgr_total)}))}))},a.nextInit=function(){var t=this;if(!this._base_finished)if(this._base_inited){if(this._base_completed+=1,this.onProgress(this._base_completed+this._base_completed_cache,this._base_total),this._base_completed+this._base_completed_cache>=this._base_total){if(this._base_finished=!0,d.emit(d.EventType.EVENT_APPINIT_FINISHED),d.inst.Manager.Sound.setting.defaultEffectName){var e=function(t){!1!==t.target.useDefaultEffect&&d.inst.manager.ui.onceUserInterface(f.EventType.TOUCH_END,(function(t){t.target.getComponent(u)&&setTimeout((function(){c(d.inst.manager.sound)&&t.eventPhase!==l.CAPTURING_PHASE&&d.inst.manager.sound.playDefaultEffect()}))}),null,!0)},n=u.prototype.onEnable;u.prototype.onEnable=function(){n.call(this),this.node.on(f.EventType.TOUCH_START,e)};var i=u.prototype.onDisable;u.prototype.onDisable=function(){this.node.off(f.EventType.TOUCH_START,e),i.call(this)}}return d.inst.manager.ui.showDefault((function(){if(t.onFinish(),d.inst.Manager.Sound.setting.defaultMusicName){var e=function t(){var e=this;c(d.inst.manager.sound)&&(d.inst.manager.sound.isMusicPlaying&&!d.inst.manager.sound.isMusicPaused?d.inst.manager.sound.replayMusic((function(){d.inst.manager.ui.offUserInterface(f.EventType.TOUCH_START,t,e,!0)})):d.inst.manager.ui.offUserInterface(f.EventType.TOUCH_START,t,this,!0))};d.inst.manager.ui.onUserInterface(f.EventType.TOUCH_START,e,t,!0),d.inst.manager.sound.playDefaultMusic((function(){d.inst.manager.ui.offUserInterface(f.EventType.TOUCH_START,e,t,!0)}))}}))}this._base_completed>this._base_mgr_total&&this.onUserInit(this._base_completed+this._base_completed_cache-this._base_mgr_total)}else this._base_completed_cache+=1},a.start=function(){this.startInit()},a.onProgress=function(t,e){return t/e},a.onUserInit=function(t){return t},a.getUserAssetNum=function(){return 0},a.onFinish=function(){},n(i,[{key:"_base_user_total",get:function(){return Math.max(0,this.getUserAssetNum())}},{key:"_base_mgr_total",get:function(){return Math.max(0,p.getTotalAssetNum())}},{key:"_base_total",get:function(){return this._base_mgr_total+this._base_user_total}}]),i}(_))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/BaseConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"c4cafaKYsRO/JUSCBno6r7Y","BaseConfig",void 0);t("BaseConfig",function(){function t(t,e){this._configName=void 0,this._data=void 0,this._configName=t,this._data=e}return t.prototype.get=function(t,e){return void 0===e&&(e=!1),e&&(this._data.has(t)||console.error(this._configName+" not found => "+t)),this._data.get(t)},e(t,[{key:"configName",get:function(){return this._configName}},{key:"data",get:function(){return this._data}},{key:"list",get:function(){return Array.from(this._data.values())}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/BaseControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy}],execute:function(){t("default",(function(t){var i;return(i=function(t){function i(){return t.apply(this,arguments)||this}return n(i,t),e(i,null,[{key:"inst",get:function(){return null===this._base_inst&&(this._base_inst=new this),this._base_inst}}]),i}(a)).Event=t,i._base_inst=null,i})),i._RF.push({},"fb103m5F/JDta0mjXTmkbT1","BaseControl",void 0);var s=function(t,n,e){void 0===n&&(n=null),void 0===e&&(e=!1),this.callback=null,this.target=null,this.once=!1,this.callback=t,this.target=n,this.once=e},l=function(){function t(){this.callbacks=[]}var n=t.prototype;return n.size=function(){return this.callbacks.length},n.add=function(t,n,e){void 0===n&&(n=null),void 0===e&&(e=!1),this.callbacks.push(new s(t,n,e))},n.emit=function(t){for(var n=0;n<this.callbacks.length;n++){var e=this.callbacks[n];e.once&&(this.callbacks.splice(n,1),--n),e.callback&&e.callback.apply(e.target,t)}},n.call=function(t){if(0!==this.callbacks.length){var n=this.callbacks[0];if(n.once&&this.callbacks.splice(0,1),n.callback)return n.callback.apply(n.target,t)}},n.remove=function(t,n){void 0===n&&(n=null);for(var e=this.callbacks.length-1;e>=0;e--){var i=this.callbacks[e];i.callback===t&&i.target===n&&this.callbacks.splice(e,1)}},n.removeByCallback=function(t){for(var n=this.callbacks.length-1;n>=0;n--){this.callbacks[n].callback===t&&this.callbacks.splice(n,1)}},n.removeByTarget=function(t){for(var n=this.callbacks.length-1;n>=0;n--){this.callbacks[n].target===t&&this.callbacks.splice(n,1)}},t}(),r=function(){function t(){this.listeners={}}var n=t.prototype;return n.on=function(t,n,e){t.toString()&&n&&(this.listeners[t]||(this.listeners[t]=new l),this.listeners[t].add(n,e))},n.once=function(t,n,e){t.toString()&&n&&(this.listeners[t]||(this.listeners[t]=new l),this.listeners[t].add(n,e,!0))},n.off=function(t,n,e){t.toString()&&n&&this.listeners[t]&&this.listeners[t].remove(n,e)},n.targetOff=function(t){if(t)for(var n in this.listeners){if(Object.prototype.hasOwnProperty.call(this.listeners,n))this.listeners[n].removeByTarget(t)}},n.emit=function(t,n){t.toString()&&this.listeners[t]&&this.listeners[t].emit(n)},n.call=function(t,n){if(t.toString()&&this.listeners[t])return this.listeners[t].call(n)},t}(),a=function(){function t(){this.e=void 0,this.t=void 0,this.event=new r}var n=t.prototype;return n.call=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return this.event.call.call(this.event,t,e)},n.emit=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return this.event.emit.call(this.event,t,e)},n.on=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return this.event.on.apply(this.event,n)},n.once=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return this.event.once.apply(this.event,n)},n.off=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return this.event.off.apply(this.event,n)},n.targetOff=function(t){return this.event.targetOff.call(this.event,t)},t}();i._RF.pop()}}}));

System.register("chunks:///_virtual/BaseController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy}],execute:function(){t("default",(function(){var t;return(t=function(t){function i(){return t.apply(this,arguments)||this}return n(i,t),e(i,null,[{key:"inst",get:function(){return null===this._base_inst&&(this._base_inst=new this),this._base_inst}}]),i}(a)).Event=new Proxy({},{get:function(t,n){return t[n]?t[n]:(t[n]=n,n)}}),t._base_inst=null,t})),i._RF.push({},"a7da7CB5gRIfo4MfUWP27NW","BaseController",void 0);var s=function(t,n,e){void 0===n&&(n=null),void 0===e&&(e=!1),this.callback=null,this.target=null,this.once=!1,this.callback=t,this.target=n,this.once=e},l=function(){function t(){this.callbacks=[]}var n=t.prototype;return n.size=function(){return this.callbacks.length},n.add=function(t,n,e){void 0===n&&(n=null),void 0===e&&(e=!1),this.callbacks.push(new s(t,n,e))},n.emit=function(t){for(var n=0;n<this.callbacks.length;n++){var e=this.callbacks[n];e.once&&(this.callbacks.splice(n,1),--n),e.callback&&e.callback.apply(e.target,t)}},n.call=function(t){if(0!==this.callbacks.length){var n=this.callbacks[0];if(n.once&&this.callbacks.splice(0,1),n.callback)return n.callback.apply(n.target,t)}},n.remove=function(t,n){void 0===n&&(n=null);for(var e=this.callbacks.length-1;e>=0;e--){var i=this.callbacks[e];i.callback===t&&i.target===n&&this.callbacks.splice(e,1)}},n.removeByCallback=function(t){for(var n=this.callbacks.length-1;n>=0;n--){this.callbacks[n].callback===t&&this.callbacks.splice(n,1)}},n.removeByTarget=function(t){for(var n=this.callbacks.length-1;n>=0;n--){this.callbacks[n].target===t&&this.callbacks.splice(n,1)}},t}(),r=function(){function t(){this.listeners={}}var n=t.prototype;return n.on=function(t,n,e){t.toString()&&n&&(this.listeners[t]||(this.listeners[t]=new l),this.listeners[t].add(n,e))},n.once=function(t,n,e){t.toString()&&n&&(this.listeners[t]||(this.listeners[t]=new l),this.listeners[t].add(n,e,!0))},n.off=function(t,n,e){t.toString()&&n&&this.listeners[t]&&this.listeners[t].remove(n,e)},n.targetOff=function(t){if(t)for(var n in this.listeners){if(Object.prototype.hasOwnProperty.call(this.listeners,n))this.listeners[n].removeByTarget(t)}},n.emit=function(t,n){t.toString()&&this.listeners[t]&&this.listeners[t].emit(n)},n.call=function(t,n){if(t.toString()&&this.listeners[t])return this.listeners[t].call(n)},t}(),a=function(){function t(){this.t=void 0,this.event=new r}var n=t.prototype;return n.call=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return this.event.call.call(this.event,t,e)},n.emit=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return this.event.emit.call(this.event,t,e)},n.on=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return this.event.on.apply(this.event,n)},n.once=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return this.event.once.apply(this.event,n)},n.off=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return this.event.off.apply(this.event,n)},n.targetOff=function(t){return this.event.targetOff.call(this.event,t)},t}();i._RF.pop()}}}));

System.register("chunks:///_virtual/BaseManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Core.ts"],(function(n){var e,o,t,r,a,i,s,d,f,c,l,u,g,p,b,h;return{setters:[function(n){e=n.inheritsLoose,o=n.assertThisInitialized,t=n.createClass},function(n){r=n.cclegacy,a=n._decorator,i=n.EventTarget,s=n.js,d=n.Widget,f=n.settings,c=n.assetManager,l=n.Prefab,u=n.find,g=n.path,p=n.instantiate,b=n.Component},function(n){h=n.default}],execute:function(){var x,w;r._RF.push({},"302056smx5PRICBe3D/jWxS","BaseManager",void 0);var m=a.ccclass,_=new(function(){function n(){this.index=0}return n.prototype.create=function(){return this.index++>1e7&&(this.index=0),Date.now()+"-"+this.index},n}()),E=(window.console.log.bind(window.console,"%c %s %c %s ","background:#32cd32; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #32cd32; color: #fff; font-weight: normal;","[BaseManager] 下载开始 "+(new Date).toLocaleString(),"background:#ffffff; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #32cd32; color: #32cd32; font-weight: normal;"),window.console.log.bind(window.console,"%c %s %c %s ","background:#00ae9d; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #00ae9d; color: #fff; font-weight: normal;","[BaseManager] 下载完成 "+(new Date).toLocaleString(),"background:#ffffff; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #00ae9d; color: #00ae9d; font-weight: normal;"),window.console.log.bind(window.console,"%c %s %c %s ","background:#ff4757; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #ff4757; color: #fff; font-weight: normal;","[BaseManager] 下载失败 "+(new Date).toLocaleString(),"background:#ffffff; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #ff4757; color: #ff4757; font-weight: normal;"));window.console.log.bind(window.console,"%c %s %c %s ","background:#3e4145; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #3e4145; color: #fff; font-weight: normal;","[BaseManager] 初始化开始 "+(new Date).toLocaleString(),"background:#ffffff; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #3e4145; color: #3e4145; font-weight: normal;"),window.console.log.bind(window.console,"%c %s %c %s ","background:#008080; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #008080; color: #fff; font-weight: normal;","[BaseManager] 初始化完成 "+(new Date).toLocaleString(),"background:#ffffff; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #008080; color: #008080; font-weight: normal;"),n("default",m("BaseManager")(((w=function(n){function r(){var e;if((e=n.call(this)||this)._base_event=new i,e._base_manager_name=s.getClassName(o(e)),"Manager"!==e._base_manager_name&&"Manager"===e._base_manager_name.slice(-7)){var t=e._base_manager_name.slice(0,-7);h.inst.Manager[t]=e.constructor,h.inst.manager[t.toLocaleLowerCase()]=o(e)}return e}e(r,n);var a=r.prototype;return a.resetInEditor=function(){var n=this.node.getComponent(d)||this.node.addComponent(d);n.isAlignBottom=!0,n.isAlignLeft=!0,n.isAlignRight=!0,n.isAlignTop=!0,n.top=0,n.left=0,n.right=0,n.bottom=0,n.alignMode=d.AlignMode.ON_WINDOW_RESIZE},a.onInited=function(){},a.onFinished=function(){},a.init=function(n){n&&n()},a.createUUID=function(){return _.create()},a.emit=function(n){for(var e,o=arguments.length,t=new Array(o>1?o-1:0),r=1;r<o;r++)t[r-1]=arguments[r];(e=this._base_event).emit.apply(e,[n].concat(t))},a.on=function(n,e,o){this._base_event.on(n,e,o)},a.once=function(n,e,o){this._base_event.once(n,e,o)},a.off=function(n,e,o){this._base_event.off(n,e,o)},a.targetOff=function(n){this._base_event.targetOff(n)},r.stringCase=function(n,e){return void 0===e&&(e=!1),(n=n.replace(/-/g,"_")).split("_").map((function(n,o){return 0===o&&e?n.charAt(0).toLocaleLowerCase()+n.slice(1):n.charAt(0).toLocaleUpperCase()+n.slice(1)})).join("")},r.stringCaseNegate=function(n){return n.replace(/[A-Z]/g,(function(n,e){return 0===e?n.toLocaleLowerCase():"-"+n.toLocaleLowerCase()}))},r.init=function(n,e){var o=this;if(this.bundle=null,-1===f.querySettings("assets","projectBundles").indexOf(n))return e&&e();h.inst.lib.task.execute((function(t){c.loadBundle(n,(function(n,r){if(n)return t(1);o.bundle=r,e&&e()}))}))},r.getTotalAssetNum=function(){var n=this.sysMgrCount;return this.bundle?(this.bundle.getDirWithPath("/",l).forEach((function(e){e.path.endsWith("Manager")&&n++})),n):n},r.getUserAssetUrls=function(){var n=[];return this.bundle?(this.bundle.getDirWithPath("/",l).forEach((function(e){e.path.endsWith("Manager")&&n.push(e.path)})),n):n},r.initManagers=function(n,e){var o=this.bundle,t=this.getUserAssetUrls(),a=t.length+this.sysMgrCount,i=0,s=function(e,o){return function(){o.onInited(),n&&n(++i,a),e()}},d=[],f=[h.inst.manager.event,h.inst.manager.timer,h.inst.manager.loader,h.inst.manager.ui,h.inst.manager.sound],c=h.inst.lib.task.createASync();f.forEach((function(n){c.add((function(e){n.init(s(e,n))}))}));var b=h.inst.lib.task.createASync(),x=u("Root2D/UserManager");t.forEach((function(n){b.add((function(e,t){o.load(n,l,(function(o,a){if(o||!a)E(g.basename(n),"重试..."),t(1);else{var i=p(a);i.parent=x,i.active=!0,d.push(i.getComponent(r)),e()}}))}))})),h.inst.lib.task.createAny().add([function(n){return c.start(n)},function(n){return b.start(n)}]).add((function(n){h.emit(h.EventType.EVENT_SYS_MANAGER_INITED),n()})).add((function(n){var e=h.inst.lib.task.createASync();d.forEach((function(n){e.add((function(e){n.init(s(e,n))}))})),e.start(n)})).add((function(n){h.emit(h.EventType.EVENT_USER_MANAGER_INITED),h.emit(h.EventType.EVENT_MANAGER_INITED),n()})).add((function(n){f.forEach((function(n){n.onFinished()})),d.forEach((function(n){n.onFinished()})),n()})).start((function(){h.emit(h.EventType.EVENT_MANAGER_FINISHED),e&&e(a)}))},t(r,[{key:"managerName",get:function(){return this._base_manager_name}},{key:"log",get:function(){return window.console.log.bind(window.console,"%c %s %c %s ","background:#4169e1; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #4169e1; color: #fff; font-weight: normal;","["+this._base_manager_name+"] LOG "+(new Date).toLocaleString(),"background:#ffffff ; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #4169e1; color: #4169e1; font-weight: normal;")}},{key:"warn",get:function(){return window.console.warn.bind(window.console,"%c %s %c %s ","background:#ff7f50; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #ff7f50; color: #fff; font-weight: normal;","["+this._base_manager_name+"] WARN "+(new Date).toLocaleString(),"background:#ffffff ; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #ff7f50; color: #ff7f50; font-weight: normal;")}},{key:"error",get:function(){return window.console.error.bind(window.console,"%c %s %c %s ","background:#ff4757; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #ff4757; color: #fff; font-weight: normal;","["+this._base_manager_name+"] ERROR "+(new Date).toLocaleString(),"background:#ffffff ; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #ff4757; color: #ff4757; font-weight: normal;")}}],[{key:"sysMgrCount",get:function(){return 5}}]),r}(b)).bundle=null,x=w))||x);r._RF.pop()}}}));

System.register("chunks:///_virtual/BaseModel.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"7a377zr4IZOcZm99E2rQNJP","BaseModel",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/BasePopView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts"],(function(e){var t,n,s,o,i,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,s=e.v3,o=e.tween,i=e.easing},function(e){u=e.default}],execute:function(){n._RF.push({},"b5da04eggpE2qVnat8sjABz","BasePopView",void 0);e("BasePopView",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onShow=function(e){this.node.scale=s(),o(this.node).to(.5,{scale:s(1,1,1)},{easing:i.backOut}).start()},n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/BaseView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Core.ts"],(function(e){var i,t,n,o,s,r,a,u,h,c,l,d,f,p,_,w,g,b,v;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.assertThisInitialized,o=e.initializerDefineProperty,s=e.createClass},function(e){r=e.cclegacy,a=e._decorator,u=e.Node,h=e.Enum,c=e.js,l=e.Scene,d=e.director,f=e.UITransform,p=e.Font,_=e.isValid,w=e.sp,g=e.SpriteFrame,b=e.Component},function(e){v=e.default}],execute:function(){var m,y,P,S,E,x,O,k,T,D,H,V,M,A;r._RF.push({},"eddc0QRQjlCPYcQd/35Kv/C","BaseView",void 0);var C=a.ccclass,I=a.property,F=[u.EventType.TOUCH_START,u.EventType.TOUCH_MOVE,u.EventType.TOUCH_END,u.EventType.TOUCH_CANCEL,u.EventType.MOUSE_DOWN,u.EventType.MOUSE_MOVE,u.EventType.MOUSE_UP,u.EventType.MOUSE_ENTER,u.EventType.MOUSE_LEAVE,u.EventType.MOUSE_WHEEL],R=h({destroy:1,active:2}),U=e("ViewType",function(e){return e.Page="Page",e.Paper="Paper",e.PaperAll="PaperAll",e.Pop="Pop",e.Top="Top",e}({})),N=function(e){return e[e.BeforeShow=0]="BeforeShow",e[e.Showing=1]="Showing",e[e.Showed=2]="Showed",e[e.BeforeHide=3]="BeforeHide",e[e.Hiding=4]="Hiding",e[e.Hid=5]="Hid",e}(N||{}),L={id:"BaseView",name:"Settings",displayOrder:-1/0,style:"section"},B=new Map;e("default",(m=C("BaseView"),y=I({group:L,type:R,tooltip:"何种模式隐藏节点\n1、destroy: 销毁UI并释放对应的所有资源\n2、active: 缓存UI并加速下次的打开速度"}),P=I({group:L,tooltip:"是否是单例模式\n1、单例模式: UI只会被创建一次(onShow会被重复触发)\n2、非单例模式: UI会被重复创建"}),S=I({group:L,tooltip:"是否捕获焦点<响应onLostFocus和onFocus>\n1、当一个捕获焦点的UI处于最上层并展示时\n下层的UI永远不会响应focus事件",visible:function(){return!this.is3D()}}),E=I({group:L,tooltip:"是否需要底层遮罩",visible:function(){return!this.is3D()&&!this.isPage()}}),x=I({group:L,tooltip:"是否禁止点击事件向下层传递",visible:function(){return!this.is3D()}}),m(((A=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return(i=e.call.apply(e,[this].concat(s))||this)._isOnCreateCalled=!1,i._base_view_state=N.Hid,i._base_view_name=c.getClassName(n(i)),i._base_touch_enable=!0,i._base_show_hide_delays=[],i._base_mini_show=new Set,o(i,"_hideEvent",T,n(i)),o(i,"_singleton",D,n(i)),o(i,"_captureFocus",H,n(i)),o(i,"_shade",V,n(i)),o(i,"_blockInput",M,n(i)),i.miniViews=[],i}t(i,e),i.BindControl=function(e){return function(i){function n(){return i.apply(this,arguments)||this}return t(n,i),s(n,[{key:"control",get:function(){return e?e.inst:null}}]),n}(i)},i.BindController=function(e){return function(i){function n(){return i.apply(this,arguments)||this}return t(n,i),s(n,[{key:"controller",get:function(){return e?e.inst:null}}]),n}(i)},i.isViewValid=function(e,i){e&&e(!0)},i.isPage=function(e){return 0===e.indexOf(U.Page)},i.isPaper=function(e){return 0===e.indexOf(U.Paper)},i.isPaperAll=function(e){return 0===e.indexOf(U.PaperAll)},i.isPop=function(e){return 0===e.indexOf(U.Pop)},i.isTop=function(e){return 0===e.indexOf(U.Top)};var r=i.prototype;return r.isPage=function(){return i.isPage(this._base_view_name)},r.isPaper=function(){return i.isPaper(this._base_view_name)},r.isPaperAll=function(){return i.isPaperAll(this._base_view_name)},r.isPop=function(){return i.isPop(this._base_view_name)},r.isTop=function(){return i.isTop(this._base_view_name)},r.is2D=function(){return!this.is3D()},r.is3D=function(){return this.node.parent instanceof l?this.node.parent.name===this.viewName:d.getScene().name===this.viewName},r.isMiniViewShow=function(e){return this._base_mini_show.has(e)},r.resetInEditor=function(){},r.setTouchEnabled=function(e){void 0===e&&(e=!0),this._base_touch_enable=!!e},r.blockPropagation=function(e){this.blockInput&&(e.propagationStopped=!0,e.type===u.EventType.TOUCH_START&&this.log("阻断触摸向下层传递"))},r.stopPropagation=function(e){this._base_touch_enable||(e.propagationStopped=!0,e.propagationImmediateStopped=!0,e.type===u.EventType.TOUCH_START&&this.log("屏蔽触摸"))},r.onCreate=function(){var e=this;if(!this.is3D()){var i=this.getComponent(f);i&&(i.hitTest=function(){if(e.blockInput){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return f.prototype.hitTest.apply(i,n)}return!1});for(var t=0;t<F.length;t++)this.node.on(F[t],this.blockPropagation,this),this.node.on(F[t],this.stopPropagation,this,!0)}},r.hideAllMiniViews=function(e){this._base_mini_show.forEach((function(i){v.inst.manager.ui.hide({name:i,data:e})})),this._base_mini_show.clear()},r.hideMiniViews=function(e){var i=this,t=e.data,n=e.views;0!==this.miniViews.length&&0!==n.length&&n.forEach((function(e){-1!==i.miniViews.indexOf(e)?i._base_mini_show.has(e)&&v.inst.manager.ui.hide({name:e,data:t}):i.warn("hideMiniViews",e+"不在miniViews中, 已跳过")}))},r.showMiniViews=function(e){var i=this,t=e.data,n=e.views,o=e.onShow,s=e.onHide,r=e.onFinish;if(0===n.length)return!1;if(this.typeName!==U.Page)return this.warn("showMiniViews","仅支持Page类型"),!1;for(var a=v.inst.lib.task.createSync(),u=function(){var e=n[h];e instanceof Array?a.add((function(n){i.createMixMiniViewsTask(e,t,o,s).start(n)})):a.add((function(n){i.createMixMiniViewsTask([e],t,o,s).start(n)}))},h=0;h<n.length;h++)u();return a.start(r&&function(){r()}),!0},r.createMixMiniViewsTask=function(e,t,n,o){var s=this;void 0===e&&(e=[]);var r=v.inst.lib.task.createSync();return this.typeName!==U.Page?(this.warn("showMiniViews","仅支持Page类型"),r):(0===(e=e.filter((function(e){return e?s._base_mini_show.has(e)?(s.warn("showMiniViews","重复融合"+e+", 已跳过"),!1):-1===s.miniViews.indexOf(e)?(s.warn("showMiniViews",e+"不在miniViews中, 已跳过"),!1):e.indexOf(s.baseName)!==U.Paper.length&&0!==e.indexOf(U.PaperAll)?(s.warn("showMiniViews",e+"不属于当前Page, 已跳过"),!1):(s._base_mini_show.add(e),!0):(s.warn("showMiniViews","name不能为空"),!1)}))).length||(r.add((function(i){var t=v.inst.lib.task.createASync();e.forEach((function(e){t.add((function(i,t){s.log("下载子页面: "+e),v.inst.manager.ui.load(e,(function(e){e?i():s.scheduleOnce(t,.1)}))}))})),t.start(i)})),r.add((function(r){var a=v.inst.lib.task.createASync();e.forEach((function(e){a.add((function(r){var a;if(null==(a=s._base_mini_show)||!a.has(e))return r();s.log("展示子页面: "+e),i.isPaperAll(e)&&B.set(e,s.uuid),v.inst.manager.ui.show({name:e,data:t,silent:!0,attr:{zIndex:s.miniViews.indexOf(e)},onShow:function(i){n&&n(e,i),r()},onHide:function(t){var n;if(i.isPaperAll(e)){var r=B.get(e);r&&r===s.uuid&&B.delete(e)}null==(n=s._base_mini_show)||n.delete(e),o&&o(e,t)},onError:function(t,n){var o;if(n===v.inst.Manager.UI.ErrorCode.LoadError)return!0;if(i.isPaperAll(e)){var a=B.get(e);a&&a===s.uuid&&(B.delete(e),v.inst.manager.ui.hide({name:e}))}null==(o=s._base_mini_show)||o.delete(e),s.warn("忽略子页面",e,t),r()}})}))})),a.start(r)}))),r)},r.setNodeAttr=function(e){e&&("number"==typeof e.zIndex&&this.node.position.set(this.node.position.x,this.node.position.y,e.zIndex),"number"==typeof e.siblingIndex&&this.node.setSiblingIndex(e.siblingIndex))},r.show=function(e,i,t,n,o){var s=this;if(this._base_view_state===N.Showed||this._base_view_state===N.Hid){var r=this._base_view_state===N.Hid;r&&(this._base_view_state=N.BeforeShow);this.log("beforeShow");var a=!1;this.beforeShow((function(u){if(a)return s.error("beforeShow","next被重复调用");a=!0,function(a){if(a||s.isPaperAll()&&s.node.emit("onHide"),o&&o(a),a)r&&(s._base_view_state=N.Hid);else{r&&(s._base_view_state=N.Showing),n&&s.node.once("onHide",n),!1===s._isOnCreateCalled&&(s._isOnCreateCalled=!0,s.onCreate()),s.setNodeAttr(i),!0!==s.node.active&&(s.node.active=!0),s.log("onShow");var u=null;try{u=s.onShow(e)}catch(e){s.onError(),console.error(e)}v.inst.manager.ui.refreshShade();try{t&&t(u),s.node.emit("onShow",u),v.inst.manager.ui.emit(s._base_view_name,{event:"onShow",result:u}),v.inst.manager.ui.emit("onShow",{name:s._base_view_name,result:u})}catch(e){console.error(e)}r&&(s._base_view_state=N.Showed)}s._base_show_hide_delays.length>0&&s._base_show_hide_delays.shift()()}(u||null)}),e)}else this._base_show_hide_delays.push(this.show.bind(this,e,i,t,n,o))},r.hide=function(e,i){if(this._base_view_state===N.Hid||this._base_view_state===N.Showed){var t,n=this._base_view_state===N.Showed;if(n&&(this._base_view_state=N.BeforeHide),this.log("beforeHide"),this.beforeHide(e))n&&(this._base_view_state=N.Showed);else{this.log("onHide"),n&&(this._base_view_state=N.Hiding),this.hideAllMiniViews(e);var o=null;try{o=this.onHide(e)}catch(t){console.error(t)}try{i&&i(o),this.node.emit("onHide",o),v.inst.manager.ui.emit(this._base_view_name,{event:"onHide",result:o}),v.inst.manager.ui.emit("onHide",{name:this._base_view_name,result:o})}catch(t){console.error(t)}n&&(this._base_view_state=N.Hid),this.hideEvent===R.active?this.node.active=!1:this.hideEvent===R.destroy&&v.inst.manager.ui.release(this),v.inst.manager.ui.refreshShade()}this._base_show_hide_delays.length>0&&this._base_show_hide_delays.shift()()}else this._base_show_hide_delays.push(this.hide.bind(this,e,i))},r.focus=function(e){var i=null,t="";e?(i=this.onFocus(),t="onFocus"):(i=this.onLostFocus(),t="onLostFocus"),this.node.emit(t,i),v.inst.manager.ui.emit(this._base_view_name,{event:t,result:i}),v.inst.manager.ui.emit(t,{name:this._base_view_name,result:i})},r.loadRes=function(e,i,t){v.inst.manager.ui.loadRes(this,e,i,t)},r.preloadRes=function(e,i){v.inst.manager.ui.preloadRes(this,e,i)},r.loadResDir=function(e,i,t){v.inst.manager.ui.loadResDir(this,e,i,t)},r.preloadResDir=function(e,i){v.inst.manager.ui.preloadResDir(this,e,i)},r.setFont=function(e,i,t){this.loadRes(i,p,(function(i){if(!i||!_(e))return t&&t(!1);e.font=i,t&&t(!0)}))},r.setSpine=function(e,i,t){this.loadRes(i,w.SkeletonData,(function(i){if(!i||!_(e))return t&&t(!1);e.skeletonData=i,t&&t(!0)}))},r.setSprite=function(e,i,t){this.loadRes(i,g,(function(i){if(!i||!_(e))return t&&t(!1);e.spriteFrame=i,t&&t(!0)}))},r.onShow=function(e){return e},r.onHide=function(e){return e},r.onLostFocus=function(){return!0},r.onFocus=function(){return!0},r.beforeShow=function(e,i){e(null)},r.beforeHide=function(e){return null},r.onError=function(){},r.onShade=function(){return{}},s(i,[{key:"hideEvent",get:function(){return this.is3D()?R.destroy:this._hideEvent},set:function(e){this.is3D()&&e!==R.destroy?this.log("3D模式下只能是destroy模式"):this._hideEvent=e}},{key:"singleton",get:function(){return!!this.isPage()||(!!this.isPaperAll()||(!!this.isPaper()||this._singleton&&this.constructor._singleton))},set:function(e){if(!e){if(this.isPage())return void this.log("Page只能是单例模式");if(this.isPaper())return void this.log("Paper只能是单例模式")}this._singleton=this.constructor._singleton=!!e}},{key:"captureFocus",get:function(){return!this.is3D()&&this._captureFocus},set:function(e){e&&this.is3D()?this.log("只有2D模式下才可以捕获焦点"):this._captureFocus=e}},{key:"shade",get:function(){return!this.is3D()&&(!this.isPage()&&this._shade)},set:function(e){if(e){if(this.is3D())return void this.log("只有2D模式下才可以设置底层遮罩");if(this.isPage())return void this.log("Page不可以设置底层遮罩")}var i;this._shade!==e?(this._shade=e,null==(i=v.inst)||null==(i=i.manager)||null==(i=i.ui)||i.refreshShade()):this._shade=e}},{key:"blockInput",get:function(){return!this.is3D()&&this._blockInput},set:function(e){e&&this.is3D()?this.log("只有2D模式下才可以设置阻断点击事件"):this._blockInput=e}},{key:"viewName",get:function(){return this._base_view_name}},{key:"baseName",get:function(){return this._base_view_name.slice(this.typeName.length)}},{key:"typeName",get:function(){return 0===this._base_view_name.indexOf(U.Paper)?U.Paper:0===this._base_view_name.indexOf(U.Pop)?U.Pop:0===this._base_view_name.indexOf(U.Top)?U.Top:U.Page}},{key:"isSingleton",get:function(){return this.singleton}},{key:"isCaptureFocus",get:function(){return this.captureFocus}},{key:"isNeedShade",get:function(){return this.shade}},{key:"isShow",get:function(){return this._base_view_state!=N.Hid}},{key:"log",get:function(){return window.console.log.bind(window.console,"%c %s %c %s ","background:#1e90ff; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #1e90ff; color: #fff; font-weight: normal;","["+this._base_view_name+"] LOG "+(new Date).toLocaleString(),"background:#ffffff; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #1e90ff; color: #1e90ff; font-weight: normal;")}},{key:"warn",get:function(){return window.console.warn.bind(window.console,"%c %s %c %s ","background:#ff7f50; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #ff7f50; color: #fff; font-weight: normal;","["+this._base_view_name+"] WARN "+(new Date).toLocaleString(),"background:#ffffff; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #ff7f50; color: #ff7f50; font-weight: normal;")}},{key:"error",get:function(){return window.console.error.bind(window.console,"%c %s %c %s ","background:#ff4757; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #ff4757; color: #fff; font-weight: normal;","["+this._base_view_name+"] ERROR "+(new Date).toLocaleString(),"background:#ffffff; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #ff4757; color: #ff4757; font-weight: normal;")}}]),i}(b))._singleton=!0,T=i((k=A).prototype,"_hideEvent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.destroy}}),i(k.prototype,"hideEvent",[y],Object.getOwnPropertyDescriptor(k.prototype,"hideEvent"),k.prototype),D=i(k.prototype,"_singleton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),i(k.prototype,"singleton",[P],Object.getOwnPropertyDescriptor(k.prototype,"singleton"),k.prototype),H=i(k.prototype,"_captureFocus",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),i(k.prototype,"captureFocus",[S],Object.getOwnPropertyDescriptor(k.prototype,"captureFocus"),k.prototype),V=i(k.prototype,"_shade",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),i(k.prototype,"shade",[E],Object.getOwnPropertyDescriptor(k.prototype,"shade"),k.prototype),M=i(k.prototype,"_blockInput",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),i(k.prototype,"blockInput",[x],Object.getOwnPropertyDescriptor(k.prototype,"blockInput"),k.prototype),O=k))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseConfig.ts"],(function(e){var n,i,o,t,f;return{setters:[function(e){n=e.createClass},function(e){i=e.cclegacy,o=e.assetManager,t=e.JsonAsset},function(e){f=e.BaseConfig}],execute:function(){i._RF.push({},"3fa66+k1VZEL4LsFfTP3Ubm","Config",void 0);var u=e("Config",function(){function e(){}return e.init=function(e,n,i){var f=this;o.getBundle("common").load(e,t,(function(e,o){console.log(o),f.parse(o.json),n&&i&&i.call(n)}))},e.parse=function(e){for(var n,i=e.length,o=i-1,t=[],u=[],r=0;r<i;r++){var g=e[r];r==o?(u.push(g),t.push(u)):"_D3A_"==g?(t.push(u),u=[]):u.push(g)}i=(u=t[0]).length,n=4;for(var l=new Map,a=0;a<i;a+=n){var s={uniqueKey:u[a],level:u[a+1],algorithm:u[a+2],genId:u[a+3]};l.set(s.uniqueKey,s)}this._levelConfig=new f("LevelConfig",l),i=(u=t[1]).length,n=4;for(var v=new Map,p=0;p<i;p+=n){var C={uniqueKey:u[p],id:u[p+1],groupNum:u[p+2],emptyList:u[p+3]};v.set(C.uniqueKey,C)}this._randLevelConfig=new f("RandLevelConfig",v),i=(u=t[2]).length,n=8;for(var h=new Map,y=0;y<i;y+=n){var c={uniqueKey:u[y],id:u[y+1],typeWei:u[y+2],allGroupNum:u[y+3],typeNumList:u[y+4],emptyList:u[y+5],suffleTimes:u[y+6],frameNum:u[y+7]};h.set(c.uniqueKey,c)}this._faceTypeLevelConfig=new f("FaceTypeLevelConfig",h),i=(u=t[3]).length,n=6;for(var m=new Map,L=0;L<i;L+=n){var d={uniqueKey:u[L],id:u[L+1],emptyList:u[L+2],frameNum:u[L+3],pairNum:u[L+4],contNum:u[L+5]};m.set(d.uniqueKey,d)}this._elimTypeLevelConfig=new f("ElimTypeLevelConfig",m),i=(u=t[4]).length,n=6;for(var _=new Map,q=0;q<i;q+=n){var w={uniqueKey:u[q],lv:u[q+1],compLife:u[q+2],compFood:u[q+3],price:u[q+4],soldierType:u[q+5]};_.set(w.uniqueKey,w)}this._homeLevelConfig=new f("HomeLevelConfig",_),i=(u=t[5]).length,n=3;for(var K=new Map,T=0;T<i;T+=n){var k={uniqueKey:u[T],id:u[T+1],url:u[T+2]};K.set(k.uniqueKey,k)}this._itemConfig=new f("ItemConfig",K),i=(u=t[6]).length,n=6;for(var M=new Map,N=0;N<i;N+=n){var F={uniqueKey:u[N],type:u[N+1],foodPrice:u[N+2],lifePrice:u[N+3],foodChange:u[N+4],lifeChange:u[N+5]};M.set(F.uniqueKey,F)}this._homeShopConfig=new f("HomeShopConfig",M),i=(u=t[7]).length,n=5;for(var P=new Map,S=0;S<i;S+=n){var H={uniqueKey:u[S],id:u[S+1],url:u[S+2],name:u[S+3],desc:u[S+4]};P.set(H.uniqueKey,H)}this._propConfig=new f("PropConfig",P)},e.getLinkedConfigs=function(e,n){for(var i=[],o=0;o<e.length;o++)i.push(n.get(e[o],!0));return i},n(e,null,[{key:"LevelConfig",get:function(){return this._levelConfig}},{key:"RandLevelConfig",get:function(){return this._randLevelConfig}},{key:"FaceTypeLevelConfig",get:function(){return this._faceTypeLevelConfig}},{key:"ElimTypeLevelConfig",get:function(){return this._elimTypeLevelConfig}},{key:"HomeLevelConfig",get:function(){return this._homeLevelConfig}},{key:"ItemConfig",get:function(){return this._itemConfig}},{key:"HomeShopConfig",get:function(){return this._homeShopConfig}},{key:"PropConfig",get:function(){return this._propConfig}}]),e}());u._levelConfig=void 0,u._randLevelConfig=void 0,u._faceTypeLevelConfig=void 0,u._elimTypeLevelConfig=void 0,u._homeLevelConfig=void 0,u._itemConfig=void 0,u._homeShopConfig=void 0,u._propConfig=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/Config2.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"90e23fvVu5DO4ptLlc7bNpg","Config",void 0);e("gameId","tcxxk"),e("gameName","天才消消看"),e("version","1.0.0");t._RF.pop()}}}));

System.register("chunks:///_virtual/Const.ts",["cc","./app.ts"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.app}],execute:function(){e._RF.push({},"d9f614oVCVFF4Zx2MCm0bCg","Const",void 0);t("EventConst",{RefreshProp:0}),t("DailyKey",{SideBarDailyKey:"sideBar",EnergyDailyKey:"energy"}),t("adunid",n.api.sdk.isBytedance()?"tttttttttt":"adunit-vvvvvvvv"),t("maxEnergy",20);e._RF.pop()}}}));

System.register("chunks:///_virtual/Core.ts",["./rollupPluginModLoBabelHelpers.js","cc","./http.ts","./sdk.ts","./gp.ts","./debug.ts","./logger.ts","./storage.ts","./task.ts","./obj.ts","./str.ts","./time.ts"],(function(t){var n,s,i,e,o,u,r,a,c,E,l,f,_,N;return{setters:[function(t){n=t.createClass},function(t){s=t.cclegacy,i=t.EventTarget,e=t.js},function(t){o=t.Http},function(t){u=t},function(t){r=t.default},function(t){a=t},function(t){c=t.default},function(t){E=t.default},function(t){l=t.default},function(t){f=t.obj_utils},function(t){_=t.str_utils},function(t){N=t.time_utils}],execute:function(){s._RF.push({},"b4a49Ny+p5ESLkbKbyXAdn/","Core",void 0);var g=function(t){return t.EVENT_APPINIT_FINISHED="EVENT_APPINIT_FINISHED",t.EVENT_SYS_MANAGER_INITED="EVENT_SYS_MANAGER_INITED",t.EVENT_USER_MANAGER_INITED="EVENT_USER_MANAGER_INITED",t.EVENT_MANAGER_INITED="EVENT_MANAGER_INITED",t.EVENT_MANAGER_FINISHED="EVENT_MANAGER_FINISHED",t}(g||{}),I={},h={task:l,storage:E,debug:a,logger:c},A={},p={},T={},d={},R={},S=new i,M=t("default",function(){function t(){this.lib=h,this.config=null,this.data=null,this.store=null,this.Manager=null,this.manager=null,this.gp=r,this.api={sdk:u,http:o},this.utils={obj:f,str:_,time:N},this.config=A,this.data=p,this.store=T,this.Manager=d,this.manager=R,this.constructor===t||e.getClassById("App")||e.setClassAlias(this.constructor,"App")}var s=t.prototype;return s.on=function(t,n,s){I[t]&&n.call(s),S.on(t,n,s)},s.once=function(t,n,s){I[t]?n.call(s):S.once(t,n,s)},s.off=function(t,n,s){S.off(t,n,s)},s.targetOff=function(t){S.targetOff(t)},t.emit=function(t){I[t]=!0;for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];S.emit.apply(S,[t].concat(s))},n(t,null,[{key:"inst",get:function(){return this._inst||(this._inst=new t),this._inst}}]),t}());M.EventType=g,M._inst=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/debug.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){e("unobservable",(function(e,n){if(!e)return;!function(){try{t=e,r="unobservable",u=function(){n?n():function(e){if(e)for(var n=0,t=Object.keys(e);n<t.length;n++)delete e[t[n]]}(e)}.bind(null,"debugger"),Object.defineProperty(t,r,{get:u,set:c,enumerable:!1,configurable:!1})}catch(e){}var t,r,u,c}()})),n._RF.push({},"c0d5do7I/BADoW7bHVLnAjr","debug",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/Defer.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"150986MzypIaqAqjtZFRjKO","Defer",void 0);e("Defer",(function(){var e=this;this.resolve=void 0,this.reject=void 0,this.resolved=!1,this.promise=void 0,this.promise=new Promise((function(t,i){e.resolve=function(i){e.resolved=!0,t(i)},e.reject=i}))}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Defer2.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"5e3e72M+2JLRIYrOYbE0kdr","Defer",void 0);e("Defer",(function(){var e=this;this.resolve=void 0,this.reject=void 0,this.resolved=!1,this.promise=void 0,this.promise=new Promise((function(r,t){e.resolve=function(t){e.resolved=!0,r(t)},e.reject=t}))}));r._RF.pop()}}}));

System.register("chunks:///_virtual/eff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./objectPool.ts","./rng.ts"],(function(t){var n,e,o,a,i,r,s,c,d,l,u,p,f,m,g,y,h;return{setters:[function(t){n=t.asyncToGenerator},function(t){e=t.cclegacy,o=t.v3,a=t.v2,i=t.Vec2,r=t.tween,s=t.easing,c=t.Color,d=t.Node,l=t.Vec4,u=t.Layout,p=t.Label,f=t.Sprite,m=t.UIOpacity,g=t.UITransform},function(t){y=t.default},function(t){h=t.rng}],execute:function(){e._RF.push({},"9db327qNVdNHpO7dId0Yvh/","eff",void 0);var v=t("default",function(){function t(){this.shakeNodeMap=new Map,this.nodePos=new Map,this.tweenMap=new Map}var e=t.prototype;return e.shakeNode=function(t,n){if(this.shakeNodeMap.has(t)){this.shakeNodeMap.get(t).stop();var e=this.nodePos.get(t);t.setPosition(o(e.x,e.y)),this.shakeNodeMap.delete(t)}n||(n={times:6,duration:.2,amp:10});var s=n.times||6,c=n.duration||.2,d=n.amp||10,l=t.getPosition(),u=n.srcPos||a(l.x,l.y);this.nodePos.set(t,u);for(var p=new i,f=r(t),m=0;m<s;++m){m==s-1?p.x=p.y=0:i.random(p,d);var g=u.add(p);f.to(c/s,{position:o(g.x,g.y)})}var y=f.start();this.shakeNodeMap.set(t,y)},e.dirShake=function(t,n){for(var e=n.amp||10,a=n.frequence||2,i=n.dir||"Horizontal",c=n.time||.5,d=1/a/4,l=Math.floor((c-2*d)/d/2),u=t.position,p="Horizontal"==i?o(e,0):o(0,e),f=r(t).by(d,{position:p},{easing:s.sineOut}),m=0;m<l;m++)f.by(d,{position:p.clone().multiplyScalar(-2)},{easing:s.sineInOut}),f.by(d,{position:p.clone().multiplyScalar(2)},{easing:s.sineInOut});f.by(d,{position:p.clone().multiplyScalar(-1)},{easing:s.sineIn}).call((function(){return t.position=u})).start()},e.emit=function(t,n,e,a,i,s,l,u,p){void 0===u&&(u=[c.WHITE]);var y=new d;y.setParent(p),y.position=o(n.x,n.y);for(var v=h.rand(e.x,e.y),w=function(){var n=new d;n.setParent(y),n.addComponent(g),n.getComponent(g).width=50,n.getComponent(g).height=50;var e=n.addComponent(f);e.addComponent(m).opacity=255,e.spriteFrame=t,e.color=h.arrRand(u);var c=h.rand(a.x,a.y),p=h.rand(i.x,i.y),v=h.rand(s.x,s.y),w=h.rand(l.x,l.y,(function(t){return t*(2-t)}));n.position=o(),n.scale=o(),n.angle=0;var x=h.rand(0,360),C=o(Math.cos(x*Math.PI/180)*w,Math.sin(x*Math.PI/180)*w);r(n).to(v,{scale:o(c,c,1),angle:p,position:C},{easing:function(t){return 1-Math.pow(t-1,4)}}).call((function(){r(n.getComponent(m)).to(.5,{opacity:0}).call((function(){y.destroy()})).start()})).start()},x=0;x<v;x++)w()},e.sparklePrefabs=function(t,e,a,i){return void 0===i&&(i=1),new Promise(n((function*(n){var s=y.Get(t);s.setParent(e),s.position=o(a.x,a.y),s.getComponent(m).opacity=255,r(s.getComponent(m)).to(i,{opacity:0}).call((function(){y.Put(s),n()})).start()})))},e.colorTween=function(t,n,e,o){var a=o.time||.5;t.color=n;var i=new l(n.r,n.g,n.b,n.a);r(i).to(a,{x:e.r,y:e.g,z:e.b,w:e.a},{onUpdate:function(){return t.color=new c(i.x,i.y,i.z,i.w)}}).start()},e.focusSprite=function(){var t=n((function*(t,e,a,i){return void 0===e&&(e=c.WHITE),void 0===a&&(a=.5),void 0===i&&(i=1.5),new Promise(n((function*(n){var c=new d;c.setParent(t.node),c.addComponent(f).spriteFrame=t.spriteFrame,c.getComponent(f).color=e,c.scale=o(i,i,1),c.getComponent(m)&&(c.getComponent(m).opacity=0),r(c.getComponent(m)).to(a,{opacity:255}).start(),r(c).to(a,{scale:o(1,1,1)},{easing:s.quadIn}).call((function(){c.destroy(),n()})).start()})))}));return function(n,e,o,a){return t.apply(this,arguments)}}(),e.iconTipsFloat=function(t,n,e,i,l,g,y,h){void 0===i&&(i=a()),void 0===l&&(l=100),void 0===g&&(g=1),void 0===y&&(y=1),void 0===h&&(h=!0),t.fontSize||(t.fontSize=40),t.color||(t.color=c.WHITE),n.scale||(n.scale=1),n.color||(n.color=c.WHITE);var v=new d,w=v.addComponent(u);w.type=u.Type.HORIZONTAL,w.resizeMode=u.ResizeMode.CONTAINER;var x=(new d).addComponent(p),C=(new d).addComponent(f);v.addChild(x.node),v.addChild(C.node),C.node.active=!!n.icon,x.node.active=!!t.msg,e.addChild(v),v.position=o(i.x,i.y),x.string=t.msg,x.fontSize=t.fontSize,x.color=t.color,C.spriteFrame=n.icon,C.node.scale=o(n.scale,n.scale,1),C.color=n.color,v.scale=o(0,0,1),r(v).to(g/3,{scale:o(y,y,1)},{easing:h?s.backOut:function(t){return t}}).delay(g/3).start(),r(v.getComponent(m)).delay(2*g/3).to(g/3,{opacity:0}).start(),r(v).by(g,{position:o(v.position.x,l,v.position.z)}).call((function(){return v.destroy()})).start()},e.tweenTxt=function(){var t=n((function*(t,n,e){void 0===e&&(e=.4);var a=Math.max(Math.floor(Math.sqrt(n)),Math.min(15,n)),i=n/a,c=0,d=1.5,l=e/a,u=r(t.node);t.node.scale=o(d,d,1),t.string="x"+c.toFixed();for(var p=function(t){return new Promise(t>0?function(n){setTimeout((function(){n()}),1e3*t)}:function(t){t()})},f=0;f<a;f++)u.to(.3,{scale:o(1,1,1)},{easing:s.quadOut}),yield p(l),c+=i,t.string="x"+c.toFixed(),t.node.scale=o(d,d,1),u.call((function(){return t.string="x"+n.toFixed()})),this.resetTween(t.node,u)}));return function(n,e,o){return t.apply(this,arguments)}}(),e.flySprite=function(t,n,e,i,c){var l=c.beforeTime?c.beforeTime:.3,u=c.afterTime?c.afterTime:.7,p=c.randPos?c.randPos.map((function(t){return t.clone().add(e)})):[e.clone().subtract(a(50,50)),e.clone().add(a(50,50))],m=c.randScale?c.randScale:a(.9,1.1),y=c.targetScale?c.targetScale:1,v=new d;v.addComponent(f).spriteFrame=t.spriteFrame,v.parent=n,v.position=o(e.x,e.y);var w=v.addComponent(g),x=t.node.getComponent(g);return w.width=x.width,w.height=x.height,new Promise((function(t){v.scale=o(0,0,1);var n=h.rand(m.x,m.y),e=a(h.rand(p[0].x,p[1].x),h.rand(p[0].y,p[1].y));r(v).to(l,{scale:o(n,n,1),position:o(e.x,e.y,0)},{easing:s.quadOut}).to(u,{scale:o(y,y,1),position:o(i.x,i.y,0)},{easing:s.quadIn}).call((function(){v.destroy(),t()})).start()}))},e.resetTween=function(t,n){this.tweenMap.has(t)&&this.tweenMap.get(t).stop(),this.tweenMap.set(t,n),n.start()},e.angleShake=function(t,n,e){n||(n={times:3,duration:.35,amp:7});for(var o=n.times||3,a=n.duration||.35,i=n.amp||7,c=a/(o+1),d=r(t).to(c/2,{angle:i},{easing:s.sineInOut}),l=0;l<o;l++)d=d.to(c/2,{angle:-i},{easing:s.sineInOut}).to(c/2,{angle:i},{easing:s.sineInOut});(d=d.to(c/2,{angle:0},{easing:s.sineInOut})).call((function(){return e&&e()})).start()},t}());t("em",new v);e._RF.pop()}}}));

System.register("chunks:///_virtual/ElimTypeLevelConfigItem.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"695calBugVJ8qTPUsJMTQwG","ElimTypeLevelConfigItem",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseManager.ts"],(function(e){var t,n,r,a,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,a=e.EventTarget},function(e){s=e.default}],execute:function(){var c;n._RF.push({},"b4ea6NEN3hCPZiqp3hRVbvU","EventManager",void 0);var i=r.ccclass;e("default",i("EventManager")(c=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).events=new Map,t}t(n,e);var r=n.prototype;return r.clear=function(){return this.events.clear()},r.delete=function(e){return this.events.delete(e)},r.get=function(e){if(this.events.has(e))return this.events.get(e);var t=new a;return this.events.set(e,t),t},n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/FaceTypeLevelConfigItem.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"8a351i0c9xH4JQL5dsDpbiV","FaceTypeLevelConfigItem",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/gp.ts",["cc","./eff.ts","./grid.ts","./objectPool.ts","./observer.ts","./rng.ts"],(function(t){var n,e,r,u,i,c;return{setters:[function(t){n=t.cclegacy},function(t){e=t.em},function(t){r=t.GridMap},function(t){u=t.default},function(t){i=t.default},function(t){c=t.rng}],execute:function(){n._RF.push({},"d6ab3rmmS1F3ZSw/a+w3hH5","gp",void 0);t("default",{createGrid:function(t,n,e,u,i,c,o,f){var s=new r;return s.init(t,n,e,u,i,c,o,f),s},get:function(t,n,e){return void 0===n&&(n=-1),void 0===e&&(e=0),u.Get(t,n,e)},put:function(t){return u.Put(t)},rng:c,eff:e,obs:function(){return new i}});n._RF.pop()}}}));

System.register("chunks:///_virtual/grid.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,r,n,s,e,h,o,a,u;return{setters:[function(t){i=t.createClass},function(t){r=t.cclegacy,n=t.v2,s=t.UITransform,e=t.v3,h=t.tween,o=t.easing,a=t.Vec2,u=t.view}],execute:function(){r._RF.push({},"bb98cyGQnRKU4uF8JdlqeHU","grid",void 0);t("GridMap",function(){function t(){this.grids=[],this.col=5,this.row=5,this.width=40,this.height=40,this.root=void 0,this.mapCamera=void 0,this.layers=[],this.cameraTween=null}var r=t.prototype;return r.init=function(t,i,r,s,e,h,o,a){this.mapCamera=s,this.root=i,this.layers=r,this.col=e,this.row=h,this.width=o,this.height=a;for(var u=0;u<this.col;u++){this.grids.push([]);for(var d=0;d<this.row;d++){var c=t(n(u,d));if(c){this.grids[u].push(c);var f=n(this.width*u+this.width/2,this.height*d+this.height/2).add(this.zero);c.init(n(u,d),r[c.layer],f)}}}},r.findGrid=function(t){return this.validCrd(t)?this.grids[t.x][t.y]:null},r.filterGrid=function(t){var i=[];return this.grids.forEach((function(r){return r.forEach((function(r){t(r)&&i.push(r)}))})),i},r.bfs=function(t,i,r){var n=this;if(void 0===i&&(i=function(){return!0}),void 0===r&&(r=function(){return!0}),!this.validCrd(t))return[];for(var s=[t],e=[],h=[],o=function(){var t=s.pop();if(!t||!n.validCrd(t)||e.findIndex((function(i){return i.equals(t)}))>=0)return 0;var o=n.findGrid(t);return r(o)?(n.neighborGrids(t).forEach((function(t){s.push(t)})),e.push(t),i(o)?(h.push(o),0):void 0):0};s.length>0;)o();return h},r.wp2lp=function(t){return this.root.getComponent(s).convertToNodeSpaceAR(e(t.x,t.y,0))},r.wp2crd=function(t){var i=this.wp2lp(t);return this.lp2crd(n(i.x,i.y))},r.lp2crd=function(t){var i=t.subtract(this.zero),r=Math.floor(i.x/this.width),s=Math.floor(i.y/this.height);return n(r,s)},r.crd2lp=function(t){return this.zero.clone().add(n(t.x*this.width,t.y*this.height)).add(n(this.width/2,this.height/2))},r.isInScreen=function(t,i,r,s,e){void 0===i&&(i=0),void 0===r&&(r=0),void 0===s&&(s=0),void 0===e&&(e=0);var h=this.sp2crd(n(s,r)),o=this.sp2crd(n(this.viewSize.width-e,this.viewSize.height-i)),a=n();return t.x<h.x?a.x=-1:t.x>o.x?a.x=1:t.y>h.y?a.y=-1:t.y<o.y&&(a.y=1),a},r.validCrd2=function(t,i){return t>=0&&t<this.col&&i>=0&&i<this.row},r.validCrd=function(t){return t.x>=0&&t.x<this.col&&t.y>=0&&t.y<this.row},r.neighborGrids=function(t,i){void 0===i&&(i=1);for(var r=t,s=[],e=-i;e<=i;e++)for(var h=-i;h<=i;h++){var o=n(e,h);if(!(Math.abs(o.x)+Math.abs(o.y)>i||o.equals(n(0,0)))){var a=r.clone().add(n(e,h));this.validCrd(a)&&s.push(a)}}return s},r.limitCameraPos=function(t){return t},r.moveDelta=function(t){var i=this.mapCamera.node.position,r=i.subtract(e(t.x,t.y)),n=this.limitCameraPos(r);return this.mapCamera.node.position=e(n),n.x!=i.x||n.y!=i.y},r.moveFocusTo=function(t,i){var r,n=this,a=this.crd2lp(t),u=this.root.getComponent(s).convertToWorldSpaceAR(e(a.x,a.y,0)),d=this.mapCamera.screenToWorld(e(this.viewSize.width/2,this.viewSize.height/2,0)),c=e(u).subtract(d),f=this.mapCamera.node.position.clone().add(c);f=this.limitCameraPos(f),null==(r=this.cameraTween)||r.stop(),this.cameraTween=h(this.mapCamera.node).to(.5,{position:f},{easing:o.sineOut,onUpdate:function(){return i&&i()}}).call((function(){return n.cameraTween=null})).start()},r.findAllGrid=function(t,i,r){var n=this;void 0===r&&(r=function(t){return!0});var s=[],e=[],h=t,o=[];for(e.unshift(t);e.length>0;){r(h=e.shift())&&s.push(h),o.push(h);for(var a=this.neighborGrids(h),u=function(){var t=a[d];o.findIndex((function(i){return i.equals(t)}))<0&&n.validCrd(t)&&i(t)&&e.unshift(t)},d=0;d<a.length;d++)u()}return s},r.findPath=function(t,i,r){var n=[],s=[],e=[],h=t,o=0,u=function(t){var r,u,d,f,l,v,p=(r=t,u=i,d=Math.abs(r.x-u.x),f=Math.abs(r.y-u.y),l=Math.min(d,f),v=Math.max(d,f),Math.sqrt(2)*l+(v-l)),g=a.distance(h,t);g>1&&(g*=.999);var y=o+g,m=n.find((function(i){return i.crd.equals(t)})),w=s.find((function(i){return i.crd.equals(t)}));w&&w.cost+w.dist>p+y?(w.cost=y,w.dist=p,w.crd=t,c.set(t,[].concat(e,[t]))):w||m&&!(m.cost+m.dist>p+y)||(s.unshift({crd:t,cost:y,dist:p}),c.set(t,[].concat(e,[t])))},c=new Map;for(u(t);s.length>0;){var f=s.shift();if(h=f.crd,o=f.cost,e=[].concat(c.get(h)),n.push(f),h.equals(i)){var l=c.get(h);return new d(l)}for(var v=this.neighborGrids(h),p=0;p<v.length;p++){var g=v[p];this.validCrd(g)&&r(g)&&u(g)}s.sort((function(t,i){return t.dist+t.cost-(i.dist+i.cost)}))}return new d([])},r.crd2lp2=function(t,i){var r=this.row*this.height,s=this.col*this.width;return n(t*this.width-s/2+this.width/2,r-i*this.height-r/2-this.height/2)},r.sp2crd=function(t){var i=this.mapCamera.screenToWorld(e(t.x,t.y,0)),r=this.root.getComponent(s).convertToNodeSpaceAR(i),h=this.crd2lp2(0,0).subtract(n(this.width/2,-this.height/2)),o=Math.floor((r.x-h.x)/this.width),a=Math.floor((r.y-h.y)/-this.height);return n(o,a)},i(t,[{key:"viewSize",get:function(){return u.getVisibleSize()}},{key:"zero",get:function(){return n(-this.width*this.col/2,-this.height*this.row/2)}}]),t}());var d=t("PathInfo",function(){function t(t){void 0===t&&(t=[]),this.pathCrds=[],this.pathCrds=t}return t.prototype.toString=function(){return this.pathCrds.map((function(t){return"("+t.x+","+t.y+")"})).join("->")},i(t,[{key:"isEmpty",get:function(){return 0==this.pathCrds.length}},{key:"startCrd",get:function(){return this.isEmpty?null:this.pathCrds[0]}},{key:"endCrd",get:function(){return this.isEmpty?null:this.pathCrds[this.pathCrds.length-1]}}]),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/handle.ts",["cc"],(function(c){var n;return{setters:[function(c){n=c.cclegacy}],execute:function(){c({appInited:function(c){},appReady:function(c){},cccInited:function(c){},cccReady:function(c){}}),n._RF.push({},"8afafha+81CE6rLLpM3km/u","handle",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/HomeLevelConfigItem.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"70ec7x5hZNJeKFYogGAikvI","HomeLevelConfigItem",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/HomeShopConfigItem.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"33437Qe+SxAoJ6q3Y9uP8R7","HomeShopConfigItem",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/http.ts",["cc","./obj.ts"],(function(t){var e,s;return{setters:[function(t){e=t.cclegacy},function(t){s=t.obj_utils}],execute:function(){e._RF.push({},"280f4z6g21OaLEnjV2YwiMs","http",void 0);var o={},n="GET",c="POST",a=t("HttpConfig",{httpUrl:"",isFake:!0});t("Http",{post:function(t,e,n){var r=(t.startsWith("http")?"":a.httpUrl)+t,p=new XMLHttpRequest;p.onreadystatechange=function(){if(p.readyState==XMLHttpRequest.DONE)if(200==p.status){var e;try{e=JSON.parse(p.responseText)}catch(t){e=p.responseText,n.fail&&n.fail(e)}finally{console.log("【http.get】←",t,e)}n.success&&n.success(JSON.parse(p.responseText)),o[t]&&(o[t][i]=e)}else console.log("【http.error】←",t,p.status),n.fail&&n.fail("'服务异常，请稍后重试'")};var i=s.obj2qs(e);if(console.log("【http.get】→",t,e),o[t]&&o[t][i])return console.log("【http.cache】←",t,o[t][i]),void(n.success&&n.success(o[t][i]));p.open(c,r,!0),p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.send(s.obj2qs(e))},get:function(t,e,c){var r=(t.startsWith("http")?"":a.httpUrl)+t,p=new XMLHttpRequest;p.onreadystatechange=function(){if(p.readyState==XMLHttpRequest.DONE)if(200==p.status){var e;try{e=JSON.parse(p.responseText)}catch(t){e=p.responseText,c.fail&&c.fail(e)}finally{console.log("【http.get】←",t,e)}c.success&&c.success(JSON.parse(p.responseText)),o[t]&&(o[t][i]=e)}else console.log("【http.error】←",t,p.status),c.fail&&c.fail("'服务异常，请稍后重试'")};var i=s.obj2qs(e);if(console.log("【http.get】→",t,e),o[t]&&o[t][i])return console.log("【http.cache】←",t,o[t][i]),void(c.success&&c.success(o[t][i]));r+="?"+s.obj2qs(e),p.open(n,r,!0),p.send()},clearCache:function(){for(var t in arguments){var e=arguments[t];o[e]&&(o[e]={})}}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ItemConfigItem.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"2e7b8t3b41KoYWJ0aVL6D2F","ItemConfigItem",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelConfigItem.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e26f9qqkZBC0Znjas3Gulab","LevelConfigItem",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/LoaderManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseManager.ts"],(function(e){var n,o,t,r,l,a,u,s,i,d,c,p;return{setters:[function(e){n=e.inheritsLoose,o=e.extends},function(e){t=e.cclegacy,r=e._decorator,l=e.SceneAsset,a=e.assetManager,u=e.Asset,s=e.Font,i=e.isValid,d=e.sp,c=e.SpriteFrame},function(e){p=e.default}],execute:function(){var f;t._RF.push({},"b3bf5M3DHNHcYe1nnNZYr6B","LoaderManager",void 0);var h=r.ccclass;e("default",h("LoaderManager")(f=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var r=t.prototype;return r.handle=function(e,n){var o=this,t=n.bundle,r=n.version,l=n.path,a=n.type,u=n.onProgress,s=n.onComplete;if(!e)return this.error("handle is empty"),s&&s(null);if(!l)return this.error(e+" fail. path is empty"),s&&s(null);t||(t="resources");var i=[l];a&&i.push(a),u&&i.push(u),i.push((function(n,t){n?(o.error(e+' "'+l+'" fail',n),s&&s(null)):s&&s(t)})),this.loadBundle({bundle:t,version:r,onComplete:function(n){if(!n)return s&&s(null);n[e](i[0],i[1],i[2],i[3])}})},r.preload=function(e){l===e.type?this.handle("preloadScene",{path:e.path,bundle:e.bundle,version:e.version,onProgress:e.onProgress,onComplete:e.onComplete}):this.handle("preload",e)},r.preloadDir=function(e){this.handle("preloadDir",e)},r.load=function(e){l===e.type?this.handle("loadScene",{path:e.path,bundle:e.bundle,version:e.version,onProgress:e.onProgress,onComplete:e.onComplete}):this.handle("load",e)},r.loadAsync=function(e){var n=this;return new Promise((function(t){n.load(o({},e,{onComplete:t}))}))},r.loadDir=function(e){this.handle("loadDir",e)},r.loadDirAsync=function(e){var n=this;return new Promise((function(t){n.loadDir(o({},e,{onComplete:t}))}))},r.release=function(e){var n,o=e.path,t=e.bundle,r=e.type;t||(t="resources"),null==(n=a.getBundle(t))||n.release(o,r)},r.releaseAll=function(e){e||(e="resources");var n=a.getBundle(e);n&&n.getDirWithPath("/",u).forEach((function(e){n.release(e.path,e.ctor)}))},r.releaseUnused=function(e){var n;e||(e="resources"),null==(n=a.getBundle(e))||n.releaseUnusedAssets()},r.loadBundle=function(e){var n=e.bundle,o=e.version,t=e.onComplete;n||(n="resources"),o?a.loadBundle(n,{version:o},(function(e,n){t&&t(e?null:n)})):a.loadBundle(n,(function(e,n){t&&t(e?null:n)}))},r.loadBundleAsync=function(e){var n=this;return new Promise((function(t){n.loadBundle(o({},e,{onComplete:t}))}))},r.getBundle=function(e){return e||(e="resources"),a.getBundle(e)},r.removeBundle=function(e){e||(e="resources");var n=a.getBundle(e);n&&a.removeBundle(n)},r.loadRemote=function(e){var n=this,o=e.url,t=e.ext,r=e.onComplete;t?a.loadRemote(o,{ext:t},(function(e,t){if(e)return n.error("loadRemote "+o+" fail"),r&&r(null);r&&r(t)})):a.loadRemote(o,(function(e,t){if(e)return n.error("loadRemote "+o+" fail"),r&&r(null);r&&r(t)}))},r.loadRemoteAsync=function(e){var n=this;return new Promise((function(t){n.loadRemote(o({},e,{onComplete:t}))}))},r.setFont=function(e){this.load({path:e.path,bundle:e.bundle,type:s,onComplete:function(n){if(!n||!i(e.target))return e.onFail&&e.onFail(),void(e.onComplete&&e.onComplete(!1));e.target.font=n,e.onSuccess&&e.onSuccess(),e.onComplete&&e.onComplete(!0)}})},r.setSpine=function(e){this.load({path:e.path,bundle:e.bundle,type:d.SkeletonData,onComplete:function(n){if(!n||!i(e.target))return e.onFail&&e.onFail(),void(e.onComplete&&e.onComplete(!1));e.target.skeletonData=n,e.onSuccess&&e.onSuccess(),e.onComplete&&e.onComplete(!0)}})},r.setSprite=function(e){this.load({path:e.path,bundle:e.bundle,type:c,onComplete:function(n){if(!n||!i(e.target))return e.onFail&&e.onFail(),void(e.onComplete&&e.onComplete(!1));e.target.spriteFrame=n,e.onSuccess&&e.onSuccess(),e.onComplete&&e.onComplete(!0)}})},t}(p))||f);t._RF.pop()}}}));

System.register("chunks:///_virtual/logger.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var r,n;return{setters:[function(o){r=o.createClass},function(o){n=o.cclegacy}],execute:function(){n._RF.push({},"0b581Lotn1LqYPYEsoeRs/Q","logger",void 0);o("default",new(function(){function o(){}return r(o,[{key:"log",get:function(){return window.console.log.bind(window.console,"%c %s %c %s ","background:#6495ed; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #6495ed; color: #000; font-weight: normal;","[LOG] "+(new Date).toLocaleString(),"background:#ffffff ; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #6495ed; color: #6495ed; font-weight: normal;")}},{key:"warn",get:function(){return window.console.warn.bind(window.console,"%c %s %c %s ","background:#ff7f50; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #ff7f50; color: #000; font-weight: normal;","[WARN] "+(new Date).toLocaleString(),"background:#ffffff ; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #ff7f50; color: #ff7f50; font-weight: normal;")}},{key:"error",get:function(){return window.console.error.bind(window.console,"%c %s %c %s ","background:#ff4757; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #ff4757; color: #000; font-weight: normal;","[ERROR] "+(new Date).toLocaleString(),"background:#ffffff ; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #ff4757; color: #ff4757; font-weight: normal;")}},{key:"debug",get:function(){return window.console.log.bind(window.console,"%c %s %c %s ","background:#ff6347; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #ff6347; color: #000; font-weight: normal;","[DEBUG] "+(new Date).toLocaleString(),"background:#ffffff ; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #ff6347; color: #ff6347; font-weight: normal;")}},{key:"success",get:function(){return window.console.log.bind(window.console,"%c %s %c %s ","background:#00ae9d; padding: 2px; border-radius: 5px 0 0 5px; border: 1px solid #00ae9d; color: #000; font-weight: normal;","[SUCC] "+(new Date).toLocaleString(),"background:#ffffff ; padding: 2px; border-radius: 0 5px 5px 0; border: 1px solid #00ae9d; color: #00ae9d; font-weight: normal;")}}]),o}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./AppInit.ts","./app.ts","./handle.ts","./setting.ts","./Config2.ts","./OpenContext.ts","./BasePopView.ts","./Const.ts","./Defer2.ts","./TopLoading.ts","./UILoading.ts","./Utils2.ts","./ScrollList.ts","./ScrollListItem.ts","./SpriteLoader.ts","./StateCtrl.ts","./BaseConfig.ts","./Config.ts","./ElimTypeLevelConfigItem.ts","./FaceTypeLevelConfigItem.ts","./HomeLevelConfigItem.ts","./HomeShopConfigItem.ts","./ItemConfigItem.ts","./LevelConfigItem.ts","./PropConfigItem.ts","./RandLevelConfigItem.ts","./OverManager.ts","./TweenManager.ts","./Core.ts","./http.ts","./sdk.ts","./BaseAppInit.ts","./BaseControl.ts","./BaseController.ts","./BaseManager.ts","./BaseModel.ts","./BaseView.ts","./Defer.ts","./eff.ts","./gp.ts","./grid.ts","./objectPool.ts","./observer.ts","./rng.ts","./debug.ts","./logger.ts","./storage.ts","./task.ts","./EventManager.ts","./LoaderManager.ts","./Audio.ts","./AudioEngine.ts","./AudioManager.ts","./SoundManager.ts","./TimerManager.ts","./UIManager.ts","./UIMgrLoading.ts","./UIMgrShade.ts","./UIMgrToast.ts","./UIMgrToastCell.ts","./UIMgrZOrder.ts","./utils.ts","./obj.ts","./str.ts","./time.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/obj.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e;return{setters:[function(n){t=n.extends},function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"69091qGCb1DI564F9x5OK3Z","obj",void 0);n("obj_utils",{obj2qs:function(n){var t="";for(var e in n)t+="&"+e+"="+n[e];return t.slice(1)},qs2obj:function(n){var t=(n=null==n?location.href:n).split("?")[1],e={};if(t){var r=t.split("&");for(var o in r){var c=r[o].split("=");e[c[0]]=decodeURIComponent(c[1])}}return e},clone:function(n){return JSON.parse(JSON.stringify(n))},deepClone:function(n){return function n(e){if(e instanceof Object){var r=Array.isArray(e)?[].concat(e):t({},e);return Reflect.ownKeys(r).forEach((function(t){r[t]=e[t]instanceof Object?n(e[t]):e[t]})),r}}(n)},map2Obj:function(n){var t=Object.create(null);return n.forEach((function(n,e){t[e]=n})),t},obj2Map:function(n,t){void 0===t&&(t=!1);var e=new Map;return Object.keys(n).forEach((function(r){t?e.set(parseInt(r),n[r]):e.set(r,n[r])})),e}});e._RF.pop()}}}));

System.register("chunks:///_virtual/objectPool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,n,r;return{setters:[function(o){t=o.inheritsLoose,e=o.createClass},function(o){n=o.cclegacy,r=o.instantiate}],execute:function(){n._RF.push({},"0524ec4hFFIIKHonZ5EVTWr","objectPool",void 0);var i=o("default",function(){function o(){}return o.NewPrefabPool=function(o,t,e){if(void 0===t&&(t=-1),void 0===e&&(e=0),!o)throw"prefab is null";if(this.HasPoolPrefab(o))return this.prefabPools.get(o);var n=new u;return n.prefab=o,n.name=o.name,n.MaxPoolCount=t,n.PrepareCount=e,this.prefabPools.set(o,n),n},o.Get=function(o,t,e){void 0===t&&(t=-1),void 0===e&&(e=0);var n=this.NewPrefabPool(o,t,e).Get();return n.poolRes=o,n.poolType="Prefab",n.active=!0,n},o.Put=function(o){var t=o.poolRes;return t?(this.GetPoolPrefab(t).Put(o),!0):(o.parent&&o.removeFromParent(),!1)},o.PutPrefabByParent=function(t){for(;t.children.length;)o.Put(t.children[0])},o.GetPrototype=function(o,t,e){void 0===t&&(t=-1),void 0===e&&(e=0);var n=this.Pool(o,t,e).Get();return n.poolRes=o,n.poolType="Class",n},o.PutPrototype=function(o){var t=o.poolRes;return!!t&&("Class"==o.poolType?this.GetPool(t).Put(o):"Prefab"==o.poolType&&this.GetPoolPrefab(t).Put(o),!0)},o.Pool=function(o,t,e){void 0===t&&(t=-1),this.HasPool(o)&&this.typePools.get(o);var n=new a(o);return n.name=o.name,n.MaxPoolCount=t,this.typePools.set(o,n),n},o.HasPoolPrefab=function(o){return o&&this.prefabPools.has(o)},o.HasPool=function(o){return this.typePools.has(o)},o.GetPoolPrefab=function(o){if(!o)throw"prefab";if(!this.HasPoolPrefab(o))throw" pool does not exist."+o.name;return this.prefabPools.get(o)},o.GetPool=function(o){if(!this.HasPool(o))throw"pool does not exist."+o;return this.typePools.get(o)},o}());i.typePools=new Map,i.prefabPools=new Map;var s=o("AbstractPool",(function(){this.name=void 0})),a=o("ObjectPool",function(o){function n(t){var e;return(e=o.call(this)||this).mPool=[],e.type=void 0,e.mMaxPoolCount=10,e.mPrepareCount=10,e.type=t,e}t(n,o);var r=n.prototype;return r.Get=function(){return this.PoolCount>0?this.mPool.pop():this.Instantiate()},r.Put=function(o){-1==this.mPool.indexOf(o)&&(this.PoolCount<this.mMaxPoolCount||this.mMaxPoolCount<0?(this.Remove(o),this.mPool.push(o)):this.Destroy(o))},r.Destroy=function(o){},r.Remove=function(o){},r.Instantiate=function(){return new this.type},r.PrepareInit=function(){if(this.PoolCount<this.mPrepareCount&&this.type)for(var o=0;o<this.mPrepareCount-this.PoolCount;o++){var t=new this.type;this.mPool.push(t)}},e(n,[{key:"PoolCount",get:function(){return this.mPool.length}},{key:"MaxPoolCount",get:function(){return this.mMaxPoolCount},set:function(o){this.mMaxPoolCount=o}},{key:"PrepareCount",get:function(){return this.mPrepareCount},set:function(o){this.mPrepareCount=o,this.PrepareInit()}}]),n}(s)),u=o("PrefabPool",function(o){function e(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))||this).prefab=void 0,t}t(e,o);var n=e.prototype;return n.Instantiate=function(){return r(this.prefab)},n.Destroy=function(o){o.removeFromParent(),o.destroy()},n.Remove=function(o){o.removeFromParent()},n.PrepareInit=function(){if(this.PoolCount<this.PrepareCount&&this.prefab)for(var o=0;o<this.PrepareCount-this.PoolCount;o++){var t=r(this.prefab);this.Put(t)}},e}(a));window.PM=i,n._RF.pop()}}}));

System.register("chunks:///_virtual/observer.ts",["cc"],(function(t){var n,e,r;return{setters:[function(t){n=t.cclegacy,e=t.Component,r=t.isValid}],execute:function(){n._RF.push({},"6dec3nSW5VBV5uKa3XTMPCZ","observer",void 0);t("default",function(){function t(){this.eventMap={}}var n=t.prototype;return n.on=function(t,n,e,r){void 0===t&&(t="");var a=this.eventMap[t];a?this.has(t,n,e)||a.on(n,e):(a=new i,this.eventMap[t]=a,a.on(n,e)),a.size()>20&&console.warn(" EventDispatcher on  is too long ",a.size(),t)},n.has=function(t,n,e){var r=this.eventMap[t];return!!r&&r.has(n,e)>=0},n.off=function(t,n,e){var r=this.eventMap[t];r&&r.off(n,e)},n.emit=function(t){var n=this.eventMap[t];if(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n.emit.apply(n,r)}},n.req=function(t){var n=this.eventMap[t];if(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return n.req.apply(n,r)}},n.offAll=function(){this.eventMap={}},n.offByName=function(t){var n=this.eventMap[t];n&&n.offAll()},t}());var i=function(){function t(){this.list=[]}var n=t.prototype;return n.on=function(t,n,e){this.list.push({handler:t,target:n,once:e})},n.has=function(t,n){for(var e=0;e<this.list.length;e++){var r=this.list[e];if(r.handler===t&&r.target===n)return e}return-1},n.size=function(){return this.list.length},n.off=function(t,n){for(var e=0;e<this.list.length;e++){var r=this.list[e];if(r.handler===t&&r.target===n)return void this.list.splice(e,1)}},n.emit=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var a=0;a<this.list.length;a++){var o,s=!0,f=this.list[a];if(f.target instanceof e&&(r(f.target.node)||(s=!1)),s)(o=f.handler).call.apply(o,[f.target].concat(n)),f.once&&(this.list.splice(a,1),a--)}},n.req=function(){for(var t=[],n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];for(var o=0;o<this.list.length;o++){var s=!0,f=this.list[o];if(f.target instanceof e&&(r(f.target.node)||(s=!1)),s){var l,h=(l=f.handler).call.apply(l,[f.target].concat(i));t.push(h),f.once&&(this.list.splice(o,1),o--)}}return t},t}();n._RF.pop()}}}));

System.register("chunks:///_virtual/OpenContext.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,o,r,c;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){o=n.cclegacy,r=n._decorator,c=n.Component}],execute:function(){var i,s;o._RF.push({},"84ddaXvFHREMrPb6rWTalIA","OpenContext",void 0);var a=r.ccclass;r.property,n("OpenContext",a("OpenContext")(((s=function(n){function o(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))||this)._openContext=void 0,t}t(o,n);var r=o.prototype;return r.onLoad=function(){o.instance=this},r.upload=function(){},r._reportUserLevel=function(n,t,e){},e(o,null,[{key:"Ins",get:function(){return this.instance}}]),o}(c)).instance=void 0,i=s))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/OverManager.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9e8b1h7PC9PE4f8QhBUbIRy","OverManager",void 0);t("OverInfo",function(){function t(){this.lastObj=void 0}var e=t.prototype;return e.startDetect=function(t){this.lastObj=t,t.forEach((function(t){return t.onEnterOver()}))},e.onDetect=function(t){for(var e=[],n=[],r=0;r<this.lastObj.length;r++)-1==t.indexOf(this.lastObj[r])&&n.push(this.lastObj[r]);for(var s=0;s<t.length;s++)-1==this.lastObj.indexOf(t[s])&&e.push(t[s]);this.lastObj=t;for(var i=0;i<e.length;i++)e[i].onEnterOver();for(var o=0;o<n.length;o++)n[o].onExitOver();return{enter:e,exit:n}},e.endDetect=function(){for(var t=0;t<this.lastObj.length;t++)this.lastObj[t].onExitOver();this.lastObj=[]},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/PropConfigItem.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"06474NGRaxDh5JU2Xew0pYX","PropConfigItem",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/RandLevelConfigItem.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"57c4cgwQcNORoNPKFyGlD8I","RandLevelConfigItem",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/rng.ts",["cc"],(function(n){var r;return{setters:[function(n){r=n.cclegacy}],execute:function(){r._RF.push({},"95888jSY3JCB4V5x9dedXPM","rng",void 0);var t=n("RNG",function(){function n(){}var r=n.prototype;return r.rand=function(n,r,t){return void 0===t&&(t=function(n){return n}),t(Math.random())*(r-n)+n},r.arrRand=function(n){return n&&0!=n.length?n[Math.min(n.length-1,Math.floor(Math.random()*n.length))]:null},r.weiRand=function(n,r){if(n.length==r.length){var t=0,e=Math.random(),a=0;n.forEach((function(n){return a+=n}));for(var o=0;o<n.length;o++){var u=r[o],i=n[o]/a;if(e<=t+i)return u;t+=i}return r[r.length-1]}console.error("概率数组和元素数组不匹配")},r.weiRandMul=function(n,r,t,e){for(var a=[].concat(n),o=[].concat(r),u=[],i=0;i<t;i++){if(0==a.length)return;var c=this.weiRand(a,o);if(!e){var f=o.indexOf(c);a.splice(f,1),o.splice(f,1)}u.push(c)}return u},r.weiRandMulAverage=function(n,r,t){for(var e=[],a=0;a<n.length;a++)e.push(1);return this.weiRandMul(e,n,r,t)},r.suffle=function(n,r){void 0===r&&(r=n.length-1);for(var t=r,e=r=Math.min(r,n.length-1),a=0;e>-1;){var o=[n[a=Math.floor(t*Math.random())],n[e]];n[e]=o[0],n[a]=o[1],e--}return n},n}());n("rng",new t);r._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScrollListItem.ts"],(function(t){var i,e,s,n,r,h,o,a,m,_,d,c,l,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,h=t._decorator,o=t.Prefab,a=t.UITransform,m=t.instantiate,_=t.log,d=t.Vec3,c=t.Vec2,l=t.ScrollView},function(t){u=t.ScrollListItem}],execute:function(){var g,p,I,f,v;r._RF.push({},"9b763XzMBdAuaEN2kA1xW11","ScrollList",void 0);var A=t("SCROLL_HORIZONTAL",1),x=t("SCROLL_VERTICAL",2),S=h.ccclass,N=h.property;t("ScrollList",(g=S("ScrollList"),p=N({type:o,tooltip:"item子节点预制体"}),g((v=i((f=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),h=0;h<e;h++)r[h]=arguments[h];return i=t.call.apply(t,[this].concat(r))||this,s(i,"itemPrefab",v,n(i)),i._itemSize=void 0,i._numItem=0,i._itemArr=[],i._itemIndex=0,i._dataIndex=0,i._dataArr=void 0,i._direction=0,i._gapNum=void 0,i.onItemRender=void 0,i}e(i,t);var r=i.prototype;return r.start=function(){t.prototype.start.call(this),this.node.on("scrolling",this.scrollCheck,this)},r.onDestroy=function(){this.node&&this.node.off("scrolling",this.scrollCheck,this)},r.setDataList=function(t,i,e){void 0===i&&(i=x),this._dataArr=t,this._direction=i,this._gapNum=e,this.createItem()},r.createItem=function(){var t=this.node.getComponent(a).height;if(!this._itemSize){var i=m(this.itemPrefab);this._direction==A?(this._itemSize=i.getComponent(a).contentSize.width,t=this.node.getComponent(a).width):this._itemSize=i.getComponent(a).contentSize.height,i.destroy()}this._numItem=Math.floor(t/this._itemSize)+2,_(t,"初始化获得数量：",this._numItem),this._dataArr.length<this._numItem&&(this._numItem=this._dataArr.length),this._itemArr.length=0;for(var e=0;e<this._numItem;e++){var s=m(this.itemPrefab);s.parent=this.content,this._itemArr.push(s),this.itemRender(s,e)}var n=this._itemSize*this._dataArr.length;this._gapNum&&this._gapNum[0]&&(n+=this._gapNum[0]),this._gapNum&&this._gapNum[1]&&(n+=this._gapNum[1]),this._gapNum&&this._gapNum[2]&&(n+=this._gapNum[2]*(this._dataArr.length-1)),this._direction==A?this.content.getComponent(a).width=n:this.content.getComponent(a).height=n,this._itemIndex=this._dataIndex=this._itemArr.length-1,_("初始化结束：",this._dataIndex,this._itemArr.length)},r.scrollCheck=function(){var t=this.getScrollOffset().y,i=(this._dataIndex+1-this._numItem)*this._itemSize;this._gapNum&&this._gapNum[0]&&(i+=this._gapNum[0]),this._gapNum&&this._gapNum[2]&&(i+=this._gapNum[2]*(this._dataIndex+1-this._numItem));var e=this._itemSize;if(this._direction==A&&(t=this.getScrollOffset().x,i=-i,e=-this._itemSize),this._direction==x&&t>e+i||this._direction==A&&t<e+i){var s=this._dataIndex+1;if(s>=this._dataArr.length)return;this._dataIndex=s;var n=this._itemIndex+1;n>=this._numItem&&(n=0);var r=this._itemArr[n];r&&this.itemRender(r,s),this._itemIndex=n}else if(this._direction==x&&t<i||this._direction==A&&t>i){var h=this._dataIndex+1-this._numItem-1;if(h<0)return;this._dataIndex--;var o=this._itemArr[this._itemIndex];o&&this.itemRender(o,h),this._itemIndex--,this._itemIndex<0&&(this._itemIndex=this._numItem-1)}},r.itemRender=function(t,i){if(this.onItemRender)this.onItemRender(t,i);else{var e=t.getComponent(u);e&&e.onItemRender(this._dataArr[i])}this.setPos(t,i)},r.setPos=function(t,i){var e=this.countPosByIndex(i);this._direction==A?t.setPosition(new d(e,0)):t.setPosition(new d(0,-e))},r.countPosByIndex=function(t){var i=(.5+t)*this._itemSize;return this._gapNum&&this._gapNum[0]&&(i+=this._gapNum[0]),this._gapNum&&this._gapNum[2]&&(i+=this._gapNum[2]*t),i},r.scroll2Index=function(t){this.stopAutoScroll(),t>this._dataArr.length-this._numItem-2&&(t=this._dataArr.length-this._numItem-2),t<0&&(t=0);var i=this.countPosByIndex(t)-.5*this._itemSize,e=new c(0,-i);this._direction==A&&(e=new c(i,0)),this.scrollToOffset(e,.5);for(var s=0;s<this._itemArr.length;s++)this.itemRender(this._itemArr[s],t+s);this._dataIndex=this._itemArr.length-1+t,this._itemIndex=this._itemArr.length-1},i}(l)).prototype,"itemPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=f))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,r,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,n=t.Component}],execute:function(){var c;o._RF.push({},"abd7deSV5lEqJ7LjBEdaJSk","ScrollListItem",void 0);var i=r.ccclass;r.property,t("ScrollListItem",i("ScrollListItem")(c=function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.onItemRender=function(t){},o}(n))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/sdk.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./obj.ts"],(function(n){var t,o,i,e,s;return{setters:[function(n){t=n.createClass,o=n.inheritsLoose},function(n){i=n.cclegacy},function(n){e=n.WECHAT,s=n.BYTEDANCE},null],execute:function(){n({createUserInfoBtn:function(n){var t;if(this.userInfoButton)return this.userInfoButton.offTap(),this.userInfoButton.onTap((function(t){n&&n(t.userInfo)})),this.userInfoButton.show(),this.userInfoButton;return this.userInfoButton=void 0,null==(t=this.userInfoButton)||t.onTap((function(t){n&&n(t.userInfo)})),this.userInfoButton},envVersion:function(){return"web"},getPlatform:function(){return window.__qqConfig?"qq":"web"},getSystemInfoSync:function(){return null},hideUserInfoBtn:function(){this.userInfoButton&&this.userInfoButton.hide()},isBytedance:function(){return s},isWechat:function(){return e},onHide:function(n){},onShow:function(n){}}),i._RF.push({},"5759bIgix1Aza+gTRQnE1xl","sdk",void 0);var r=function(){function n(n){this._adUid="",n&&0!==n.length?this._adUid=n:console.warn("adUid is invalid or empty!")}return t(n,[{key:"aduid",get:function(){return this._adUid}}]),n}(),u=function(n){function t(t){var o;return(o=n.call(this,t)||this)._interstitial=void 0,o}o(t,n);var i=t.prototype;return i.show=function(){var n,t,o=this;this._interstitial?this._interstitial.load():(this._interstitial=null,null==(n=this._interstitial)||n.onLoad((function(){console.log("load interstitial ad success"),o._interstitial.show().catch((function(n){console.log("catch interstitial ad error:",n)}))})),null==(t=this._interstitial)||t.onError((function(n){console.log("interstitial ad on error:",n)})))},i.destory=function(){var n;null==(n=this._interstitial)||n.destroy()},t}(r),l=function(n){function t(t,o,i,e){var s;return void 0===i&&(i=300),void 0===e&&(e=!1),(s=n.call(this,t)||this)._banner=void 0,s.create(e,i,o),s}o(t,n);var i=t.prototype;return i.create=function(n,t,o){return this._banner=null,void console.log("Only wechat and bytedance support AD")},i.show=function(){var n;null==(n=this._banner)||n.show()},i.hide=function(){var n;null==(n=this._banner)||n.hide()},i.destroy=function(){var n;null==(n=this._banner)||n.destroy()},t}(r),a=function(n){function t(t,o,i,e){var s;return void 0===o&&(o=0),void 0===i&&(i=0),void 0===e&&(e=1),(s=n.call(this,t)||this)._adCustom=void 0,s.createCustomAd(o,i,e),s}o(t,n);var i=t.prototype;return i.createCustomAd=function(n,t,o){return this._adCustom=null,void console.log("Only wechat support Custom Ad")},i.show=function(){var n;null==(n=this._adCustom)||n.show()},i.hide=function(){var n;null==(n=this._adCustom)||n.hide()},i.destroy=function(){var n;null==(n=this._adCustom)||n.destroy()},t}(r),c=n("EAdVideoResult",function(n){return n[n.ACCEPT=0]="ACCEPT",n[n.REJECT=1]="REJECT",n[n.ERROR=2]="ERROR",n}({})),d=function(n){function t(t){var o;return(o=n.call(this,t)||this)._adVideo=void 0,o}o(t,n);var i=t.prototype;return i.show=function(n,t,o){var i,e;return i=c.ACCEPT,e=1,null==n||n.call(t,i,e),void(this._adVideo=null)},i.destory=function(){var n;null==(n=this._adVideo)||n.destory()},t}(r),h=n("EAdBannerLocation",function(n){return n[n.TOP=0]="TOP",n[n.BOTTOM=1]="BOTTOM",n}({}));n("AdvertManager",function(){function n(){this._video=void 0,this._interstitial=void 0,this._customs={},this._banners={}}var o=n.prototype;return o.loadBanner=function(n,t,o){if(void 0===t&&(t=h.TOP),void 0===o&&(o=1),this._banners[n])console.log("banner ad "+n+" has been loaded.");else{var i={width:0,height:0},e=i.width*o;e=(e=e<300?300:e)>i.width?i.width:e,this._banners[n]=new l(n,"number"==typeof t?t===h.TOP:t,e,!1)}},o.showBanner=function(n){this._banners[n]?this._banners[n].show():console.warn("you must call loadBanner("+n+") first!")},o.hideBanner=function(n){this._banners[n]?this._banners[n].hide():console.warn("not load custom ad "+n+", do nothing.")},o.destroyBanner=function(n){this._banners[n]?(this._banners[n].destroy(),delete this._banners[n]):console.warn("not load custom ad "+n+", destroy nothing.")},o.showInterstitial=function(n){var t;this._interstitial&&this._interstitial.aduid===n?this._interstitial.show():(null==(t=this._interstitial)||t.destory(),this._interstitial=new u(n),this._interstitial.show())},o.loadCustom=function(n,t,o){void 0===t&&(t={top:0,left:0}),void 0===o&&(o=1),this._customs[n]?console.log("custom ad "+n+" has been loaded."):this._customs[n]=new a(n,t.top,t.left,o)},o.showCustom=function(n){n?this._customs[n]?this._customs[n].show():console.warn("You have not load "+n+" of Custom AD, can not show!"):console.warn("invalid custom adUid, can not show!")},o.hideCustom=function(n){this._customs[n]?this._customs[n].hide():console.warn("You have not load "+n+" of Custom AD, can not hide!")},o.destroyCustom=function(n){this._customs[n]?(this._customs[n].destroy(),delete this._customs[n]):console.warn("You have not load "+n+" of Custom AD, destroy nothing!")},o.showVideo=function(n,t,o,i){var e;(void 0===i&&(i=3),this._video&&this._video.aduid===n)?this._video.show(t,o,i):(null==(e=this._video)||e.destory(),this._video=new d(n),this._video.show(t,o,i))},o.destroyAll=function(){var n,t;if(null==(n=this._interstitial)||n.destory(),this._interstitial=null,null==(t=this._video)||t.destory(),this._video=null,this._customs){for(var o in this._customs){var i;null==(i=this._customs[o])||i.destroy()}this._customs={}}if(this._banners){for(var e in this._banners){var s;null==(s=this._banners[e])||s.destroy()}this._banners={}}},t(n,null,[{key:"instance",get:function(){return n._instance||(n._instance=new n),n._instance}}]),n}())._instance=void 0;var f=n("EGameClubIcon",function(n){return n.GREEN="green",n.WHITE="white",n.DARK="dark",n.LIGHT="light",n}({}));n("GameClub",function(){function n(){this._club=void 0}var o=n.prototype;return o.create=function(n,t,o,i){void 0===n&&(n=f.GREEN)},o.show=function(){var n;null==(n=this._club)||n.show()},o.hide=function(){var n;null==(n=this._club)||n.hide()},o.destory=function(){var n;null==(n=this._club)||n.destroy()},t(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0;var _=n("EVirbrateType",function(n){return n[n.SHORT=0]="SHORT",n[n.LONG=1]="LONG",n}({})),v=n("API",function(){function n(){}return n.shareAppToFriends=function(n,t,o){},n.getEnterOptionsSync=function(){return{}},n.showToast=function(n,t){},n.vibrate=function(n){void 0===n&&(n=_.SHORT)},n.reboot=function(){},n.exit=function(){},n.showShareMenu=function(){},n.navigateTo=function(n,t){},n.login=function(t){n._loginCode?(console.log("not mini game platform, login null"),null==t||t(null,null)):(n._loginCode=null,n._loginAnonymousCode=null,null==t||t(n._loginCode,n._loginAnonymousCode),console.log("not mini game platform, login codes are all null"))},n.callWechatCloudFunction=function(n,t,o){console.log("Not wechat platform, not support callWechatCloudFunction")},n.setUserCloudStorage=function(n,t){},n}());v._loginCode=null,v._loginAnonymousCode=null,v._hasInitWechatCloudFunction=!1;n("BytedanceSidebar",function(){function n(){}return n.listenFromSidebar=function(n,t){null==n||n.call(t,!1)},n.checkSideBar=function(n,t){null==n||n.call(t,!1)},n.navigateToSidebar=function(n,t){return console.log("not douyin platform!"),void(null==n||n.call(t,!1))},n}());i._RF.pop()}}}));

System.register("chunks:///_virtual/setting.ts",["cc","./http.ts","./SoundManager.ts","./UIManager.ts"],(function(){var t,e,n,i;return{setters:[function(e){t=e.cclegacy},function(t){e=t.HttpConfig},function(t){n=t.default},function(t){i=t.default}],execute:function(){t._RF.push({},"9a8d2pAnrJAWIiDp94P7b0z","setting",void 0),i.setting.preload=["PageHome"],i.setting.defaultUI="PageHome",i.setting.autoFit=!0,i.setting.shade={delay:0,begin:100,end:200,speed:400},n.setting.preload=[],n.setting.defaultMusicName="music/bgm",n.setting.defaultEffectName="effect/button",e.httpUrl="https://xxxx.com/tcxxk/",e.isFake=!0,t._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Core.ts","./BaseManager.ts","./AudioEngine.ts"],(function(e){var t,i,u,n,s,c,a,l,f,o,r,h,m,y,d;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,u=e.asyncToGenerator,n=e.extends},function(e){s=e.cclegacy,c=e._decorator,a=e.AudioClip,l=e.game,f=e.Game,o=e.isValid,r=e.Button,h=e.sys},function(e){m=e.default},function(e){y=e.default},function(e){d=e.default}],execute:function(){var p,M;s._RF.push({},"58002Ha2adOWbt2LDr8rmBT","SoundManager",void 0);var g=c.ccclass,v=function(e,t){h.localStorage.setItem(e,JSON.stringify(t))},E=function(e){var t=h.localStorage.getItem(e);if(t&&"string"==typeof t)return JSON.parse(t)},S=new Proxy({},{get:function(e,t){return e[t]?e[t]:(e[t]=t,t)}}),C=new Proxy({},{get:function(e,t){return e[t]?e[t]:(e[t]=t,t)}}),V="app-sound";e("default",g("SoundManager")(((M=function(e){function s(){for(var t,i=arguments.length,u=new Array(i),n=0;n<i;n++)u[n]=arguments[n];return(t=e.call.apply(e,[this].concat(u))||this).musicMuteCacheKey="musicMute",t.effectMuteCacheKey="effectMute",t.musicVolumeScaleCacheKey="musicVolumeScale",t.effectVolumeScaleCacheKey="effectVolumeScale",t.defaultMusicName="",t.defaultMusicVolume=1,t.defaultEffectName="",t.defaultEffectVolume=1,t.audioCache={},t.effectInterval={},t.playingMusic={uuid:"",id:-1,name:"",volume:1,playing:!1,paused:!1},t}t(s,e);var c=s.prototype;return c.init=function(t){var i,u=s.setting;if(u.musicMuteCacheKey&&(this.musicMuteCacheKey=u.musicMuteCacheKey),u.effectMuteCacheKey&&(this.musicMuteCacheKey=u.effectMuteCacheKey),u.musicVolumeScaleCacheKey&&(this.musicVolumeScaleCacheKey=u.musicVolumeScaleCacheKey),u.effectVolumeScaleCacheKey&&(this.effectVolumeScaleCacheKey=u.effectVolumeScaleCacheKey),u.defaultMusicName&&(this.defaultMusicName=u.defaultMusicName),"number"==typeof u.defaultMusicVolume&&(this.defaultMusicVolume=u.defaultMusicVolume),u.defaultEffectName&&(this.defaultEffectName=u.defaultEffectName),"number"==typeof u.defaultEffectVolume&&(this.defaultEffectVolume=u.defaultEffectVolume),this.musicMuteCacheKey){var n=!0===E(this.musicMuteCacheKey);d.inst.setMusicMute(n)}else this.warn("musicMuteCacheKey不能为空");if(this.effectMuteCacheKey){var c=!0===E(this.effectMuteCacheKey);d.inst.setAllEffectsMute(c)}else this.warn("effectMuteCacheKey不能为空");if(this.musicVolumeScaleCacheKey){var l=E(this.musicVolumeScaleCacheKey);"number"==typeof l&&d.inst.setMusicVolumeScale(l)}else this.warn("musicVolumeScaleCacheKey不能为空");if(this.effectVolumeScaleCacheKey){var f=E(this.effectVolumeScaleCacheKey);"number"==typeof f&&d.inst.setAllEffectsVolumeScale(f)}else this.warn("effectVolumeScaleCacheKey不能为空");e.prototype.init.call(this,t),null==(i=u.preload)||i.forEach((function(e){m.inst.manager.loader.preload({bundle:V,type:a,path:e})}))},c.onLoad=function(){l.on(f.EVENT_HIDE,(function(){d.inst.pauseAll()})),l.on(f.EVENT_SHOW,(function(){d.inst.resumeAll()}))},c.preload=function(e,t){return e?0!==e.indexOf("effect")&&0!==e.indexOf("music")?(this.error("preload","fail",e),void(t&&setTimeout((function(){o(this)&&t(null)})))):void m.inst.manager.loader.preload({bundle:V,path:e,type:a,onComplete:t}):(this.error("preload","fail"),void(t&&setTimeout((function(){o(this)&&t(null)}))))},c.load=function(e){var t=this,i=(arguments.length<=2?void 0:arguments[2])&&(arguments.length<=1?void 0:arguments[1]),u=(arguments.length<=2?void 0:arguments[2])||(arguments.length<=1?void 0:arguments[1]);if(!e)return this.error("load","fail"),void(u&&setTimeout((function(){o(t)&&u(null)})));if(0!==e.indexOf("effect")&&0!==e.indexOf("music"))return this.error("load","fail",e),void(u&&setTimeout((function(){o(t)&&u(null)})));var n=this.audioCache[e];n?u&&setTimeout((function(){o(t)&&u(n)})):m.inst.manager.loader.load({bundle:V,path:e,type:a,onProgress:i,onComplete:function(i){o(t)&&(i?(t.audioCache[e]=i,u&&u(i)):u&&u(null))}})},c.release=function(e){0===e.indexOf("effect")||0===e.indexOf("music")?(delete this.audioCache[e],m.inst.manager.loader.release({bundle:V,path:e,type:a})):this.error("release "+e+" fail")},c.playDefaultMusic=function(e){this.defaultMusicName?this.playMusic({name:this.defaultMusicName,volume:this.defaultMusicVolume,onPlay:e}):this.warn("defaultMusicName 不存在")},c.playDefaultEffect=function(e){this.defaultEffectName?this.playEffect({name:this.defaultEffectName,volume:this.defaultEffectVolume,onPlay:e}):this.warn("defaultEffectName 不存在")},c.setButtonEffect=function(e,t,i){if(t){var u=i||{},n=u.volume,s=void 0===n?1:n,c=u.interval,a=void 0===c?0:c;e.node.useDefaultEffect=!1,e.node.targetOff(this),e.node.on(r.EventType.CLICK,(function(){this.playEffect({name:t,volume:s,interval:a})}),this)}else e.node.useDefaultEffect=!0,e.node.targetOff(this)},c.playEffect=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=this,i=void 0===e?{name:""}:e,u=i.name,n=i.volume,s=void 0===n?1:n,c=i.loop,a=void 0!==c&&c,l=i.interval,f=void 0===l?0:l,r=i.onEnded,h=i.onPlay,m=i.onError;u?this.isEffectMute||this.effectInterval[u]&&Date.now()<this.effectInterval[u]?m&&m():this.load(u,(function(e){if(o(t))if(t.isEffectMute)m&&m();else if(t.effectInterval[u]&&Date.now()<t.effectInterval[u])m&&m();else{if(!e)return t.error("playEffect "+u+" 不存在或加载失败"),void(m&&m());f>0&&(t.effectInterval[u]=Date.now()+1e3*f),d.inst.playEffect(e,s,a,h,r)}else m&&m()})):m&&m()})),c.playEffectAsync=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(u((function*(e){var t=this;return void 0===e&&(e={name:""}),new Promise((function(i){t.playEffect(n({},e,{onPlay:function(e){i(e)},onError:function(){i(null)}}))}))}))),c.pauseEffect=function(e){return d.inst.pauseEffect(e)},c.pauseAllEffects=function(){return d.inst.pauseAllEffects()},c.resumeEffect=function(e){return d.inst.resumeEffect(e)},c.resumeAllEffects=function(){return d.inst.resumeAllEffects()},c.stopEffect=function(e){return d.inst.stopEffect(e)},c.stopAllEffects=function(){return d.inst.stopAllEffects()},c.playMusic=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=this,i=void 0===e?{name:""}:e,u=i.name,n=i.volume,s=void 0===n?1:n,c=i.force,a=void 0!==c&&c,l=i.onPlay,f=i.onError;if(u){if(!a&&-1!==this.playingMusic.id&&this.playingMusic.name===u)return d.inst.setMusicVolume(s),void(l&&l());this.stopMusic();var r=this.createUUID();this.playingMusic.uuid=r,this.playingMusic.name=u,this.playingMusic.volume=s,this.playingMusic.playing=!0,this.playingMusic.paused=!1,this.isMusicMute?l&&l():this.load(u,(function(e){if(o(t))if(-1===t.playingMusic.id)if(t.playingMusic.name===u){if(t.playingMusic.uuid==t.playingMusic.uuid)return e?void(t.isMusicMute?l&&l():t.playingMusic.id=d.inst.playMusic(e,s,l)):(t.error("playMusic "+u+" 不存在或加载失败"),void(f&&f()));f&&f()}else f&&f();else f&&f();else f&&f()}))}else f&&f()})),c.playMusicAsync=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=this;return void 0===e&&(e={name:""}),new Promise((function(i){t.playMusic(n({},e,{onPlay:function(){i(!0)},onError:function(){i(!1)}}))}))})),c.replayMusic=function(e){this.playingMusic.playing&&this.playingMusic.name&&this.playMusic({name:this.playingMusic.name,volume:this.playingMusic.volume,force:!0,onPlay:e})},c.pauseMusic=function(){return!!this.playingMusic.playing&&(this.playingMusic.paused=!0,d.inst.pauseMusic())},c.resumeMusic=function(){return!!this.playingMusic.playing&&(this.playingMusic.paused=!1,d.inst.resumeMusic())},c.stopMusic=function(){return this.playingMusic.playing=!1,this.playingMusic.paused=!1,this.playingMusic.volume=1,this.playingMusic.name="",this.playingMusic.uuid="",this.playingMusic.id=-1,d.inst.stopMusic()},c.setMusicMute=function(e,t){void 0===t&&(t=!1),t&&v(this.musicMuteCacheKey,e),d.inst.setMusicMute(e),!e&&this.playingMusic.name&&this.playMusic({name:this.playingMusic.name,volume:this.playingMusic.volume})},c.setEffectMute=function(e,t){void 0===t&&(t=!1),d.inst.setAllEffectsMute(e),t&&v(this.effectMuteCacheKey,e)},c.setMusicVolumeScale=function(e,t){void 0===t&&(t=!1),d.inst.setMusicVolumeScale(e),t&&v(this.musicVolumeScaleCacheKey,e)},c.setEffectVolumeScale=function(e,t){void 0===t&&(t=!1),d.inst.setAllEffectsVolumeScale(e),t&&v(this.effectVolumeScaleCacheKey,e)},i(s,[{key:"isMusicPlaying",get:function(){return this.playingMusic.playing}},{key:"isMusicPaused",get:function(){return this.playingMusic.paused}},{key:"isMusicMute",get:function(){return d.inst.getMusicMute()}},{key:"isEffectMute",get:function(){return d.inst.getAllEffectsMute()}},{key:"musicVolumeScale",get:function(){return d.inst.getMusicVolumeScale()}},{key:"effectVolumeScale",get:function(){return d.inst.getAllEffectsVolumeScale()}}]),s}(y)).setting={},M.MusicName=S,M.EffectName=C,p=M))||p);s._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,a,u,l,c,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.Sprite,l=e.assetManager,c=e.SpriteFrame,p=e.Component}],execute:function(){var s,f,d,b;o._RF.push({},"b4ff44WwU5Dg4202P4+tKTF","SpriteLoader",void 0);var g=a.ccclass,h=a.property;e("SpriteLoader",g("SpriteLoader")((d=r((f=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"bundle",d,n(r)),i(r,"url",b,n(r)),r}return t(r,e),r.prototype.onLoad=function(){var e=this.getComponent(u);e&&l.getBundle(this.bundle).load(this.url,c,(function(r,t){e.spriteFrame=t}))},r}(p)).prototype,"bundle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=r(f.prototype,"url",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=f))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/StateCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,n,o,a,s,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,c=t.Node,l=t.Component}],execute:function(){var u,p,f,h,d,y;a._RF.push({},"0861dA4RFZKNohSuCRUiySc","StateCtrl",void 0);var g=s.ccclass,S=s.property;t("StateCtrl",(u=g("StateCtrl"),p=S(c),u((d=e((h=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"nodes",d,n(e)),i(e,"originState",y,n(e)),e._state=0,e}return r(e,t),e.prototype.onLoad=function(){this.state=this.originState},o(e,[{key:"state",get:function(){return this._state},set:function(t){this._state=t;for(var e=0;e<this.nodes.length;e++)this.nodes[e]&&(this.nodes[e].active=e==t)}}]),e}(l)).prototype,"nodes",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=e(h.prototype,"originState",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=h))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/storage.ts",["cc"],(function(t){var e,r,a,n,i;return{setters:[function(t){e=t.cclegacy,r=t.sys,a=t.log,n=t.error,i=t.js}],execute:function(){e._RF.push({},"be3dafKG7VKQYlL+CdRx47y","storage",void 0);var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var o=function(){var t,e,r,a,n,i,c,o=new Date;return o.getFullYear()+""+(e=(t=(t=o)||new Date).getFullYear(),r=t.getMonth()+1,a=t.getDate(),n=new Date(e,r-1,a),i=new Date(e,0,1),c=Math.round((n.valueOf()-i.valueOf())/864e5),Math.ceil((c+(i.getDay()+1-1))/7))},u=function(t){return(t=t||new Date).toLocaleDateString()};t("default",new(function(){function t(){this._cache={},this.secretKey=""}var e=t.prototype;return e.set=function(t,e){if("string"==typeof t&&void 0!==e)try{var i=JSON.stringify(e);return this.secretKey?r.localStorage.setItem(t,function(t,e){e=e||c;for(var r="",a=0;a<t.length;a++){var n=t.charCodeAt(a)^e.charCodeAt(a%e.length);r+=String.fromCharCode(n)}return r}(i,this.secretKey)):r.localStorage.setItem(t,i),this._cache[t]=i,!0}catch(t){a(t)}else n("storage set error");return!1},e.get=function(t){if(void 0!==this._cache[t])return JSON.parse(this._cache[t]);var e=null;try{var a=r.localStorage.getItem(t);a&&"string"==typeof a?(this.secretKey&&(a=function(t,e){e=e||c;for(var r="",a=0;a<t.length;a++){var n=t.charCodeAt(a)^e.charCodeAt(a%e.length);r+=String.fromCharCode(n)}return r}(a,this.secretKey)),this._cache[t]=a,e=JSON.parse(a)):""!==a&&null!==a&&(e=void 0)}catch(t){e=void 0}return e},e.add=function(t,e){void 0===e&&(e=1);var r=this.get(t);return!(void 0===r||(r=r||0,r+=e,!this.set(t,r)))&&r},e.remove=function(t){try{return r.localStorage.removeItem(t),delete this._cache[t],!0}catch(t){return!1}},e.clear=function(){try{return r.localStorage.clear(),i.clear(this._cache),!0}catch(t){return!1}},e.setWeek=function(t,e,r){var a=o();if(!r)return this.set(t,{data:e,updateTime:a});var n=this.getWeek(t);return!(void 0===n||null!==n&&!r(n,e))&&this.set(t,{data:e,updateTime:a})},e.getWeek=function(t){var e=this.get(t);return e&&e.updateTime==o()?e.data:e&&null},e.setDay=function(t,e,r){var a=u();if(!r)return this.set(t,{data:e,updateTime:a});var n=this.getDay(t);return!(void 0===n||null!==n&&!r(n,e))&&this.set(t,{data:e,updateTime:a})},e.getDay=function(t){var e=this.get(t);return e&&e.updateTime==u()?e.data:e&&null},t}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/str.ts",["cc"],(function(r){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"dec45VkZhRLH5K3YTBUW6ws","str",void 0);var n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_+";r("str_utils",{getShortProvince:function(r){return r},strEncode:function(r,t){for(var e="",o=0;o<r.length;o++){for(var i=r.charCodeAt(o).toString(2),u=16-i.length,a=0;a<u;a++)i="0"+i;e+=i}var l=e.length%6;if(l)for(var h=0;h<6-l;h++)e+="0";for(var c="";e.length;)c+=n[parseInt(e.slice(0,6),2)],e=e.slice(6);for(var f="",v=0;v<c.length;v++){var d=(n.indexOf(c[v])+t.charCodeAt(v%t.length))%n.length;f+=n.substring(d,d+1)}return f},strDecode:function(r,t){for(var e="",o=0;o<r.length;o++){var i=n.indexOf(r[o]);(i=(i-t.charCodeAt(o%t.length))%n.length)<0&&(i+=n.length),e+=n.substring(i,i+1)}for(var u="",a=0;a<e.length;a++){for(var l=n.indexOf(e[a]).toString(2),h=6-l.length,c=0;c<h;c++)l="0"+l;u+=l}u.length%16>0&&(u=u.slice(0,-u.length%16));for(var f="";u.length;)f+=String.fromCharCode(parseInt(u.slice(0,16),2)),u=u.slice(16);return f},formatLongName:function(r,t){void 0===t&&(t=0);for(var n=0,e=0;e<r.length;e++)if(r.charCodeAt(e)>255?n+=2:n++,n>=t){r=r.slice(0,e+1)+"...";break}return r},formatNumberDot:function(r){for(var t=(r||0).toString(),n="";t.length>3;)n=","+t.slice(-3)+n,t=t.slice(0,t.length-3);return t&&(n=t+n),n},formatStrEnter:function(r,t,n){void 0===t&&(t=10),void 0===n&&(n=!1);for(var e=n?"<br/>":"\n",o=[],i=0,u=0,a=0;a<r.length;a++)r.charCodeAt(a)>255?i+=2:i++,i>=t&&(o.push(r.slice(u,a)),u=a,i=0);o.push(r.slice(u));for(var l="",h=0,c=o.length;h<c;h++)l+=o[h],h<c-1&&(l+=e);return l},rand:function(r,t){void 0===t&&(t=0);var n="",e="abcdefghijklmnopqrstuvwxyz1234567890";1==t?e="1234567890":2==t&&(e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890");for(var o=0;o<r;o++)n+=e.charAt(Math.floor(Math.random()*e.length));return n},num2CN:function(r){return function t(n){var e=["零","一","二","三","四","五","六","七","八","九","十","百","千","万","亿","万亿"],o={ltHundred:function(t){if(r<=10)return e[r];var n=Math.trunc(t/10),o=(n>1?e[n]:"")+e[10],i=t%10;return 0===i?o:o+e[i]},ltThousand:function(r){var t=e[Math.trunc(r/100)]+e[11],n=r%100;return 0===n?t:n<10?t+e[0]+e[n]:n>=10&&n<20?(t+=e[1]+e[10],n>10&&(t+=e[n-10]),t):t+o.ltHundred(n)},ltTenThousand:function(r){var t=e[Math.trunc(r/1e3)]+e[12],n=r%1e3;return 0===n?t:n<10?t+e[0]+e[n]:n<100?10===n?t+e[0]+e[1]+e[10]:t+e[0]+o.ltHundred(n):t+o.ltThousand(n)},gtBillion:function(r){var n=function(r,t,n){if(r.length>=t)return r;for(var e="";e.length<t-r.length;)e+=n;return e+r},o=r.toString(),i=o.length;if(i>16||i<5)return"";var u=(o=n(o,i<=8?8:i<=12?12:16,"0")).split(/([0-9]{4})/).filter((function(r){return""!==r})),a="",l=u.length;return u.forEach((function(r,n){var o=Number(r),i="";return 0!==o&&(i=t()),0!==n&&(o>0&&o<1e3||3===u[n-1].lastIndexOf("0"))&&(a+=e[0]),2===l?0===n?void(a=i+e[13]):void(a+=i):3===l?0===n?void(a=i+e[14]):1===n&&0!==o?void(a+=i+e[13]):void(a+=i):4===l?0===n?void(a=i+e[15]):1===n&&0!==o?void(a+=i+e[14]):2===n&&0!==o?void(a+=i+e[13]):void(a+=i):void 0})),a}},i="";return(r|=0)<0&&(i+="负",r=Math.abs(r)),r<100?i+o.ltHundred(r):r<1e3?i+o.ltThousand(r):r<1e4?i+o.ltTenThousand(r):i+=o.gtBillion(r)}()}});t._RF.pop()}}}));

System.register("chunks:///_virtual/task.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i;return{setters:[function(t){n=t.createClass},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"721e63MqrNI1qpO4br4ISY7","task",void 0);var s=function(){function t(){this.running=!1,this.index=-1,this.list=[],this.finish=null,this.results=[]}var n=t.prototype;return n.size=function(){return this.list.length},n.add=function(t){return this.list.push(t),this.results.push(void 0),this},n.start=function(t){return this.running||(this.running=!0,this.index=-1,this.finish=t,this.next(this.index)),this},n.stop=function(){return!!this.running&&(this.running=!1,this.finish&&this.finish(this.results,!1),!0)},n.isRunning=function(){return this.running},n.isStop=function(){return!this.running},n.end=function(t){return!!this.running&&(void 0!==t&&(this.results[this.index]=t),this.running=!1,this.finish&&this.finish(this.results,!0),!0)},n.next=function(t,n){return!!this.running&&(t===this.index&&(void 0!==n&&(this.results[this.index]=n),++this.index<this.list.length?this.retry(this.index):this.end(),!0))},n.retry=function(t){var n=this;if(!this.running)return!1;if(t!==this.index)return!1;var i=this.list[t];return i&&i((function(i){return n.next(t,i)}),(function(i){return void 0===i&&(i=0),new Promise((function(s){i>0?setTimeout((function(){s(n.retry(t))}),1e3*i):s(n.retry(t))}))}),(function(t){return n.end(t)})),!0},t}(),r=function(){function t(){this.running=!1,this.count=0,this.list=[],this.finish=null,this.results=[]}var n=t.prototype;return n.size=function(){return this.list.length},n.add=function(t){return this.list.push(t),this.results.push(void 0),this.running&&this.retry(this.list.length-1),this},n.start=function(t){if(this.running)return this;if(this.running=!0,this.count=0,this.finish=t,this.list.length)for(var n=0;n<this.list.length;n++)this.retry(n);else this.end&&this.end(this.count);return this},n.stop=function(){return!!this.running&&(this.running=!1,this.finish&&this.finish(this.results,!1),!0)},n.isRunning=function(){return this.running},n.isStop=function(){return!this.running},n.end=function(t,n){if(!this.running)return!1;if(t>=0&&t<this.results.length){if(this.results[t]||null===this.results[t])return!1;this.results[t]=void 0!==n?n:null}return this.running=!1,this.finish&&this.finish(this.results,!0),!0},n.next=function(t,n){if(!this.running)return!1;if(t>=0&&t<this.results.length){if(this.results[t]||null===this.results[t])return!1;this.results[t]=void 0!==n?n:null}return++this.count===this.list.length&&this.end&&this.end(this.count),!0},n.retry=function(t){var n=this;if(!this.running)return!1;var i=this.list[t];return i&&i((function(i){return n.next(t,i)}),(function(i){return void 0===i&&(i=0),new Promise((function(s){i>0?setTimeout((function(){s(n.retry(t))}),1e3*i):s(n.retry(t))}))}),(function(i){return n.end(t,i)})),!0},t}(),u=function(){function t(){this.task=new s}var i=t.prototype;return i.size=function(){return this.task.size()},i.add=function(t){if(t instanceof Array){var n=new r;t.forEach((function(t){return n.add(t)})),this.task.add(n.start.bind(n))}else this.task.add(t);return this},i.start=function(t){return this.task.start(t),this},i.stop=function(){return this.task.stop()},i.isRunning=function(){return this.task.isRunning()},i.isStop=function(){return this.task.isStop()},n(t,[{key:"results",get:function(){return this.task.results}}]),t}(),e=t("default",{createSync:function(){return new s},createASync:function(){return new r},createAny:function(){return new u},execute:function(t,n,i){void 0===n&&(n=-1),t((function(s){if(void 0===s&&(s=0),0===n)return i&&i();n=n>0?n-1:n,s>0?setTimeout((function(){return e.execute(t,n,i)}),1e3*s):e.execute(t,n,i)}))},excute:function(t,n,i){return void 0===n&&(n=-1),this.execute(t,n,i)}});i._RF.pop()}}}));

System.register("chunks:///_virtual/time.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"6d7b3k5tzJHNpgZCKEfWYyr","time",void 0);t("time_utils",{before:function(t){var e=new Date(t).getTime(),r=36e5,n=24*r,o=30*n,a=(new Date).getTime()-e;if(a<0)return"刚刚";var u=a/o,i=a/(7*n),f=a/n,c=a/r,g=a/6e4,l=a/31104e6;return l>=1?Math.floor(l)+"年前":u>=1?Math.floor(u)+"月前":i>=1?Math.floor(i)+"周前":f>=1?Math.floor(f)+"天前":c>=1?Math.floor(c)+"小时前":g>=1?Math.floor(g)+"分钟前":"刚刚"},formatDate:function(t){var e=function(t){return t>9?t:"0"+t},r=new Date(t);return r.getFullYear()+"年"+e(r.getMonth()+1)+"月"+e(r.getDate())+"日"},formatDate2:function(t){var e=function(t){return t>9?t:"0"+t},r=new Date(t),n=r.getFullYear(),o=e(r.getMonth()+1),a=e(r.getDate()),u=e(r.getHours()),i=e(r.getMinutes());e(r.getSeconds());return n+"/"+o+"/"+a+" "+u+":"+i},formatTime:function(t,e){void 0===e&&(e=!1);var r=~~((t=~~t)/3600);e&&(t%=3600);var n=~~(t/60),o=t%60,a="";return e&&r>0&&(a+=r+"h"),n>0&&(a+=n+"m"),o>0&&(a+=o+"s"),a},formatTime2:function(t,e){void 0===e&&(e=!1);var r=~~((t=~~t)/3600);e&&(t%=3600);var n=~~(t/60),o=t%60,a="";return e&&(r<10&&(a+="0"),a+=r+":"),n<10&&(a+="0"),a+=n+":",o<10&&(a+="0"),a+=""+o}});e._RF.pop()}}}));

System.register("chunks:///_virtual/TimerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseManager.ts"],(function(e){var t,i,n,r,s,a;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,r=e._decorator,s=e.Component},function(e){a=e.default}],execute:function(){var c;n._RF.push({},"b5636+NNRZFEKq6dPkgK4qf","TimerManager",void 0);var u=r.ccclass,o=function(){function e(e,t,i){this._beginHour=0,this._beginMinute=0,this._beginSecond=0,this._endHour=0,this._endMinute=0,this._endSecond=0,this.checkCallback=0,this.callback=null,this.target=null,this.callback=t,this.target=i;var n=e.split("-"),r=n[0],s=n[1],a=r.split(":");if(this._beginHour=Number(a[0])||0,this._beginMinute=Number(a[1]||0)||0,this._beginSecond=Number(a[2]||0)||0,s){var c=s.split(":");this._endHour=Number(c[0])||0,this._endMinute=Number(c[1]||0)||0,this._endSecond=Number(c[2]||0)||0}else this._endHour=this._beginHour,this._endMinute=this._beginMinute,this._endSecond=this._beginSecond}return i(e,[{key:"beginTime",get:function(){var e=new Date;return e.setHours(this._beginHour),e.setMinutes(this._beginMinute),e.setSeconds(this._beginSecond),e.getTime()}},{key:"endTime",get:function(){var e=new Date;return e.setHours(this._endHour),e.setMinutes(this._endMinute),e.setSeconds(this._endSecond),e.getTime()}}]),e}(),h=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).times=[],t}t(i,e);var n=i.prototype;return n.registerDailyTrigger=function(e,t,i){this.times.push(new o(e,t,i))},n.unregisterDailyTrigger=function(e){for(var t=0;t<this.times.length;t++){if(this.times[t].callback===e){this.times.splice(t,1);break}}},n.update=function(){var e=new Date,t=e.getTime(),i=e.getDay();this.times.forEach((function(e){e.checkCallback!==i&&e.beginTime<=t&&e.endTime>=t&&(e.checkCallback=i,e.callback.call(e.target))}))},i}(s);e("default",u("TimerManager")(c=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).timers=new Map,t}t(i,e);var n=i.prototype;return n.clear=function(){this.timers.forEach((function(e){e.destroy()})),this.timers.clear()},n.delete=function(e){var t=this.timers.get(e);t&&(this.timers.delete(e),t.destroy())},n.get=function(e){if(this.timers.has(e))return this.timers.get(e);var t=this.node.addComponent(h);return this.timers.set(e,t),t},i}(a))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/TopLoading.ts",["cc","./app.ts"],(function(n){var t,a;return{setters:[function(n){t=n.cclegacy},function(n){a=n.app}],execute:function(){t._RF.push({},"11eae/ndRNH8qREkmk4pZj2","TopLoading",void 0);n("TopLoading",function(){function n(){}return n.loadPage=function(n,t){a.manager.ui.show({name:"TopPageLoading",data:{targetUI:n,targetData:t}})},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/TweenManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Defer2.ts"],(function(t){var e,n,i,s,r;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t._decorator,s=t.tween},function(t){r=t.Defer}],execute:function(){t("twn",(function(t){return new a(t)})),n._RF.push({},"08126LI+Z9GeocSnXUCE+2F","TweenManager",void 0);i.ccclass,i.property,t("default",function(){function t(t){this.node=void 0,this.node=t}return e(t,[{key:"isValid",get:function(){return this.node.active&&this.node.activeInHierarchy&&this.node.isValid}}]),t}());var a=t("TweenInfo",function(){function t(t){this.tween=null,this.target=null,this.subTweens=[],this.bindTarget=null,this.isStart=!1,this.defer=null,this.allTime=0,this.rejFunc=null,this.tween=s(t),this.target=t,this.subTweens=[],this.isStart=!1}var n=t.prototype;return n.reject=function(t){return this.rejFunc=t,this},n.sequenceTo=function(t,e,n){if(this.isStart)return console.warn("sequenceTo error, tween already start：",this.tween,this.target),this;var i=s(this.target).to(t,e,n);return this.tween=this.tween.sequence(this.tween,i),this.allTime+=t,this},n.sequenceBy=function(t,e,n){if(this.isStart)return console.warn("sequenceBy error, tween already start：",this.tween,this.target),this;var i=s(this.target).by(t,e,n);return this.tween=this.tween.sequence(this.tween,i),this.allTime+=t,this},n.parallelTo=function(t,e,n){if(this.isStart)return console.warn("parallelTo error, tween already start：",this.tween,this.target),this;var i=s(this.target).to(t,e,n);return this.subTweens.push(i),this.subTweens.push(this.tween),this.tween=s(this.target).parallel(this.tween,i),this.allTime=Math.max(this.allTime,t),this},n.parallelBy=function(t,e,n){if(this.isStart)return console.warn("parallelBy error, tween already start：",this.tween,this.target),this;var i=s(this.target).by(t,e,n);return this.subTweens.push(i),this.subTweens.push(this.tween),this.tween=s(this.target).parallel(this.tween,i),this.allTime=Math.max(this.allTime,t),this},n.call=function(t,e){return this.isStart?(console.warn("call error, tween already start：",this.tween,this.target),this):(this.tween.call(t.bind(e)),this)},n.delay=function(t){return this.isStart?(console.warn("delay error, tween already start：",this.tween,this.target),this):(this.tween.delay(t),this.allTime+=t,this)},n.to=function(t,e,n){return this.isStart?(console.warn("tweenTo error, tween already start：",this.tween,this.target),this):(this.tween.to(t,e,n),this.allTime+=t,this)},n.by=function(t,e,n){return this.isStart?(console.warn("tweenBy error, tween already start：",this.tween,this.target),this):(this.tween.by(t,e,n),this.allTime+=t,this)},n.start=function(){var t=this;return this.isStart?(console.warn("tweenStart error, tween already start：",this.tween,this.target),this):(this.defer=new r,this.tween.call((function(){t.onFinish()})),this.tween.start(),this.onStart(),this)},n.stop=function(){return this.onReject(),this},n.bind=function(t){return this.bindTarget=t,this},n.onStart=function(){this.isStart=!0,h.addTween(this)},n.onReject=function(){this.tween.stop(),this.subTweens.forEach((function(t){return t.stop()})),this.rejFunc&&this.rejFunc(),h.removeTween(this)},n.onFinish=function(){h.removeTween(this),this.defer.resolve(),this.target=null,this.bindTarget=null,this.rejFunc=null},n.updateDetect=function(){this.bindTarget&&!this.bindTarget.isValid&&this.onReject()},e(t,[{key:"promise",get:function(){return this.defer?this.defer.promise:new Promise((function(t,e){return e()}))}}]),t}());var h=t("Twn",function(){function t(){}return t.addTween=function(t){this.tweenInfo.push(t)},t.removeTween=function(t){var e=this.tweenInfo.indexOf(t);e>=0&&this.tweenInfo.splice(e,1)},t.update=function(){this.tweenInfo.forEach((function(t){t&&t.updateDetect()}))},t}());h.tweenInfo=[],n._RF.pop()}}}));

System.register("chunks:///_virtual/UILoading.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,o,e,r;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n._decorator,r=n.Component}],execute:function(){var i;o._RF.push({},"9072bZb7glIzpJyqHytUZZB","UILoading",void 0);var c=e.ccclass;e.property,n("UILoading",c("UILoading")(i=function(n){function o(){return n.apply(this,arguments)||this}return t(o,n),o}(r))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Core.ts","./BaseManager.ts","./BaseView.ts","./UIMgrLoading.ts","./UIMgrShade.ts","./UIMgrToast.ts","./UIMgrZOrder.ts"],(function(e){var t,n,i,r,o,a,s,u,h,l,c,d,f,g,p,I,v,w,m,U,y,E,S,M,C,P,T,L,b,D,R,B,N,V,H,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.extends,a=e.createClass},function(e){s=e.cclegacy,u=e._decorator,h=e.Node,l=e.Prefab,c=e.find,d=e.Camera,f=e.director,g=e.instantiate,p=e.settings,I=e.Settings,v=e.size,w=e.screen,m=e.Layers,U=e.UITransform,y=e.Widget,E=e.Scene,S=e.js,M=e.isValid,C=e.SceneAsset,P=e.Canvas,T=e.ResolutionPolicy,L=e.view},function(e){b=e.default},function(e){D=e.default},function(e){R=e.ViewType,B=e.default},function(e){N=e.default},function(e){V=e.default},function(e){H=e.default},function(e){_=e.default}],execute:function(){var O,A,F,k,x,Q,z,X,W,G;s._RF.push({},"234f6Lx69NNFJ9vC2nHCWRJ","UIManager",void 0);var j=u.ccclass,q=u.property,Z="UIRoot",J=[R.Page,R.Paper,R.Pop,R.Top],K=[h.EventType.TOUCH_START,h.EventType.TOUCH_MOVE,h.EventType.TOUCH_END,h.EventType.TOUCH_CANCEL,h.EventType.MOUSE_DOWN,h.EventType.MOUSE_MOVE,h.EventType.MOUSE_UP,h.EventType.MOUSE_ENTER,h.EventType.MOUSE_LEAVE,h.EventType.MOUSE_WHEEL],Y=function(e){return e[e.LoadError=0]="LoadError",e[e.LogicError=1]="LogicError",e[e.InvalidError=2]="InvalidError",e}(Y||{}),$=new Proxy({},{get:function(e,t){return e[t]?e[t]:(e[t]=t,t)}}),ee=new Proxy({},{get:function(e,t){return e[t]?e[t]:(e[t]=t,t)}});e("default",(O=j("UIManager"),A=q({type:l,tooltip:"位置: app://manager/ui/prefab/UIMgrLoading"}),F=q({type:l,tooltip:"位置: app://manager/ui/prefab/UIMgrShade"}),k=q({type:l,tooltip:"位置: app://manager/ui/prefab/UIMgrToast"}),O(((G=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"loadingPre",z,r(t)),i(t,"shadePre",X,r(t)),i(t,"toastPre",W,r(t)),t.Root2D=null,t.UserInterface=null,t.loading=null,t.shade=null,t.toast=null,t.defaultUI=null,t.defaultData="",t.currScene="",t.currPage=null,t.currFocus=null,t.prefabCache={},t.sceneCache={},t.touchEnabled=!0,t.touchMaskMap=new Map,t.showLoadingMap=new Map,t.uiLoadingMap=new Map,t.uiShowingMap=new Map,t.showQueue=[],t}n(t,e);var s=t.prototype;return s.init=function(n){var i,r=this,o=t.setting;if(this.defaultUI=o.defaultUI,this.defaultData=o.defaultData,e.prototype.init.call(this,n),null!=(i=o.preload)&&i.length){var a=b.inst.lib.task.createAny();o.preload.forEach((function(e){e instanceof Array?a.add(e.map((function(e){return function(t){return r.preload(e,t)}}))):a.add((function(t){return r.preload(e,t)}))})),a.start()}},s.onLoad=function(){if(this.Root2D=c("Root2D"),this.UserInterface=c("Root2D/UserInterface"),this.Root2D.getComponentsInChildren(d).forEach((function(e){e.priority<0&&(e.priority=0),e.far<=e.near&&(e.far=e.near+1)})),f.addPersistRootNode(this.Root2D),this.initUITypes(),this.shade=g(this.shadePre),this.loading=g(this.loadingPre),this.shade.active=!1,this.loading.active=!1,this.shade.parent=this.UserInterface,this.loading.parent=this.UserInterface,this.toastPre&&(this.toast=g(this.toastPre),this.toast.parent=this.UserInterface),t.setting.autoFit){var e=p.querySettings(I.Category.SCREEN,"designResolution"),n=v(w.windowSize),i=e.policy,r=function(){if(e.policy===T.FIXED_WIDTH)if(n.width/n.height>e.width/e.height){if(i===T.FIXED_HEIGHT)return;L.setResolutionPolicy(T.FIXED_HEIGHT),i=T.FIXED_HEIGHT}else{if(i===T.FIXED_WIDTH)return;L.setResolutionPolicy(T.FIXED_WIDTH),i=T.FIXED_WIDTH}else if(e.policy===T.FIXED_HEIGHT)if(n.height/n.width>e.height/e.width){if(i===T.FIXED_WIDTH)return;L.setResolutionPolicy(T.FIXED_WIDTH),i=T.FIXED_WIDTH}else{if(i===T.FIXED_HEIGHT)return;L.setResolutionPolicy(T.FIXED_HEIGHT),i=T.FIXED_HEIGHT}};r(),this.schedule((function(){n.equals(w.windowSize)||(n.set(w.windowSize),r())}),.5)}},s.initUITypes=function(){var e=this;J.forEach((function(t){var n=new h(t);n.layer=m.Enum.UI_2D,n.addComponent(_),n.parent=e.UserInterface,n.addComponent(U);var i=n.addComponent(y);i.isAlignBottom=!0,i.isAlignLeft=!0,i.isAlignRight=!0,i.isAlignTop=!0,i.top=0,i.left=0,i.right=0,i.bottom=0,i.alignMode=y.AlignMode.ON_WINDOW_RESIZE}))},s.addTouchMaskListener=function(){if(this.touchEnabled&&!(this.touchMaskMap.size>0))for(var e=0;e<K.length;e++)this.UserInterface.on(K[e],this.stopPropagation,this,!0)},s.removeTouchMaskListener=function(){if(this.touchEnabled&&!(this.touchMaskMap.size>0))for(var e=0;e<K.length;e++)this.UserInterface.off(K[e],this.stopPropagation,this,!0)},s.stopPropagation=function(e){(!this.touchEnabled||this.touchMaskMap.size>0)&&(e.propagationStopped=!0,e.type!==h.EventType.MOUSE_MOVE&&this.log("屏蔽触摸"))},s.getBaseView=function(e){return e?e.components.find((function(e){return e instanceof B})):null},s.getViewInParents=function(e){for(var t=e,n=null;t.parent&&!(t.parent instanceof E)&&!(n=this.getBaseView(t.parent));)t=t.parent;return n},s.getViewInChildren=function(e){for(var t=0;t<e.children.length;t++){var n=e.children[t],i=this.getBaseView(n);if(i)return i}return null},s.getUIClass=function(e){return S.getClassByName(e)},s.getUIPath=function(e){return e},s.getUIPrefix=function(e){for(var t=0;t<J.length;t++){var n=J[t];if(0===e.indexOf(n))return n}this.error("getUIPrefix",""+e)},s.getUIParent=function(e){if(this.currScene===e)return f.getScene();for(var t=this.getUIPrefix(e),n=0;n<J.length;n++){var i=J[n];if(i===t)return this.UserInterface.getChildByName(i)}return this.error("getUIParent","找不到"+e+"对应的Parent"),null},s.getUIInScene=function(e,t){void 0===t&&(t=!1);var n=this.getUIParent(e);if(t){var i=n.children.filter((function(t){return t.name===e}));if(i.length)return i.filter((function(e){return M(e,!0)}))}else{var r=n.children.find((function(t){return t.name===e}));if(r)return M(r,!0)?r:null}return t?[]:null},s.getUIInShowing=function(e,t){if(void 0===t&&(t=!1),t){var n=[];return this.uiShowingMap.forEach((function(t,i){t===e&&n.push(i.node)})),n}var i=null;return this.uiShowingMap.forEach((function(t,n){i||t!==e||(i=n.node)})),i},s.getNativeBundleName=function(e){var t="app-view_"+e,n=p.querySettings(I.Category.ASSETS,"projectBundles");return n&&n.indexOf(t)>=0?t:D.stringCaseNegate(e)},s.getResBundleName=function(e){var t="app-view_"+e+"_Res",n=p.querySettings(I.Category.ASSETS,"projectBundles");return n&&n.indexOf(t)>=0?t:D.stringCaseNegate(e)+"-res"},s.initBundle=function(e,t){var n=this;b.inst.lib.task.createASync().add((function(t){b.inst.manager.loader.loadBundle({bundle:n.getNativeBundleName(e),onComplete:t})})).add((function(t){b.inst.manager.loader.loadBundle({bundle:n.getResBundleName(e),onComplete:t})})).start(t)},s.installUI=function(e,t,n){var i=this;if(this.sceneCache[e])t&&setTimeout((function(){M(i)&&t(i.sceneCache[e])}));else if(this.prefabCache[e])t&&setTimeout((function(){M(i)&&t(i.prefabCache[e])}));else var r=b.inst.lib.task.createSync().add((function(t){i.initBundle(e,t)})).add((function(t){var o=r.results[0];if(!o||!o[0]||!o[1])return t(null);var a=o[0].getSceneInfo(e);b.inst.manager.loader.load({bundle:i.getNativeBundleName(e),path:i.getUIPath(e),type:a?C:l,onProgress:n,onComplete:t})})).start((function(n){if(M(i)){var r=i.sceneCache[e]||i.prefabCache[e];if(r)return t&&t(r);var o=n[1];return o?(o.addRef(),o instanceof l?i.prefabCache[e]=o:i.sceneCache[e]=o,i.log("加载: "+e),t&&t(o)):t&&t(null)}}))},s.uninstallUI=function(e){this.sceneCache[e]?(this.sceneCache[e].decRef(),delete this.sceneCache[e]):this.prefabCache[e]&&(this.prefabCache[e].decRef(),delete this.prefabCache[e]);var t=this.getResBundleName(e),n=this.getNativeBundleName(e);b.inst.manager.loader.releaseAll(t),b.inst.manager.loader.releaseAll(n),b.inst.manager.loader.removeBundle(t),b.inst.manager.loader.removeBundle(n),this.log("卸载: "+e)},s.loadRes=function(e,t,n,i){if("string"==typeof e)b.inst.manager.loader.load({bundle:this.getResBundleName(e),path:t,type:n,onComplete:i});else{var r=this.getBaseView(e.node)||this.getViewInParents(e.node)||this.getViewInChildren(f.getScene());r?b.inst.manager.loader.load({bundle:this.getResBundleName(r.viewName),path:t,type:n,onComplete:i}):(this.error("loadRes",e.name,t),i&&i(null))}},s.preloadRes=function(e,t,n){if("string"==typeof e)b.inst.manager.loader.preload({bundle:this.getResBundleName(e),path:t,type:n});else{var i=this.getBaseView(e.node)||this.getViewInParents(e.node)||this.getViewInChildren(f.getScene());i?b.inst.manager.loader.preload({bundle:this.getResBundleName(i.viewName),path:t,type:n}):this.error("preloadRes",e.name,t)}},s.loadResDir=function(e,t,n,i){if("string"==typeof e)b.inst.manager.loader.loadDir({bundle:this.getResBundleName(e),path:t,type:n,onComplete:i});else{var r=this.getBaseView(e.node)||this.getViewInParents(e.node)||this.getViewInChildren(f.getScene());r?b.inst.manager.loader.loadDir({bundle:this.getResBundleName(r.viewName),path:t,type:n,onComplete:i}):(this.error("loadResDir",e.name,t),i&&i([]))}},s.preloadResDir=function(e,t,n){if("string"==typeof e)b.inst.manager.loader.preloadDir({bundle:this.getResBundleName(e),path:t,type:n});else{var i=this.getBaseView(e.node)||this.getViewInParents(e.node)||this.getViewInChildren(f.getScene());i?b.inst.manager.loader.preloadDir({bundle:this.getResBundleName(i.viewName),path:t,type:n}):this.error("preloadResDir",e.name,t)}},s.preload=function(e,t){var n=this;if(!e)return this.error("preload","fail"),void(t&&setTimeout((function(){M(this)&&t(null)})));this.initBundle(e,(function(i){var r=i[0].getSceneInfo(e);b.inst.manager.loader.preload({bundle:n.getNativeBundleName(e),path:n.getUIPath(e),type:r?C:l,onComplete:t})}))},s.load=function(e){var t=(arguments.length<=2?void 0:arguments[2])&&(arguments.length<=1?void 0:arguments[1]),n=(arguments.length<=2?void 0:arguments[2])||(arguments.length<=1?void 0:arguments[1]);if(!e)return this.error("load","fail"),void(n&&setTimeout((function(){M(this)&&n(null)})));this.installUI(e,(function(e){return e?n&&n(e):n&&n(null)}),t)},s.release=function(e){var t="";if(t="string"==typeof e?e:e.viewName){if("string"==typeof e){this.getUIInScene(t,!0).forEach((function(e){e&&M(e,!0)&&(e.parent=null,e.destroy())}))}else{var n=e.node;n&&M(n,!0)&&(n.parent=null,n.destroy())}var i=this.getUIInScene(t,!0);(0===i.length||i.every((function(e){return!M(e,!0)})))&&(this.uninstallUI(t),this.log("释放资源: "+t))}else this.error("release",e+" fail")},s.checkUIValid=function(e,t,n){var i=this;this.installUI(e,(function(r){if(!r)return n(-1);var o=i.getUIClass(e);return o?o.isViewValid?void o.isViewValid((function(e){n(e?1:0)}),t):n(1):n(0)}))},s.refreshShade=function(){for(var e=!1,n=this.UserInterface.children,i=n.length-1;i>=0;i--){var r=n[i];if(r!==this.shade&&r!==this.loading)for(var o=r.children,a=o.length-1;a>=0;a--){var s=o[a];if(s!==this.shade){var u=this.getBaseView(s);if(u&&(!e&&u.isCaptureFocus&&u.isShow&&(e=!0,this.currFocus!==u&&(M(this.currFocus,!0)&&this.currFocus.constructor.prototype.focus.call(this.currFocus,!1),this.currFocus=u,this.currFocus.constructor.prototype.focus.call(this.currFocus,!0))),u.isNeedShade&&u.isShow)){var h=Object.assign({},t.setting.shade,u.constructor.prototype.onShade.call(u));this.shade.getComponent(V).init("number"!=typeof h.delay?0:h.delay,"number"!=typeof h.begin?60:h.begin,"number"!=typeof h.end?180:h.end,"number"!=typeof h.speed?100:h.speed),this.shade.layer=s.layer,this.shade.parent=r,this.shade.active=!0,this.shade.setPosition(this.shade.position.x,this.shade.position.y,s.position.z);var l=this.shade.getSiblingIndex(),c=s.getSiblingIndex();return void(l>c?this.shade.setSiblingIndex(c):this.shade.setSiblingIndex(c-1))}}}}this.shade.active=!1,this.shade.getComponent(V).clear(),e||(M(this.currFocus,!0)&&this.currFocus.constructor.prototype.focus.call(this.currFocus,!1),this.currFocus=null)},s.parsingPrefab=function(e,t){var n;if(!e)return null;var i=g(e);return i.active=!1,i.name!==t&&(this.warn("parsingPrefab","节点名与UI名不一致, 已重置为UI名: "+this.getUIPath(t)),i.name=t),i.parent=this.getUIParent(t),null==(n=i.getComponent(y))||n.updateAlignment(),i},s.parsingScene=function(e,t){if(!e||!e.scene)return null;e.scene.name!==t&&(this.warn("parsingScene","场景名与UI名不一致, 已重置为UI名: "+this.getUIPath(t)),e.scene.name=t);var n=this.getViewInChildren(e.scene);return n?(n.node.active=!1,n.node.name!==t&&(this.warn("parsingScene","节点名与UI名不一致, 已重置为UI名: "+this.getUIPath(t)),n.node.name=t),n.node):(this.error("parsingScene","解析场景时未查询到根节点存在BaseView: "+this.getUIPath(t)),null)},s.addUILoadingUuid=function(e){var t=this.createUUID();return this.uiLoadingMap.has(e)?this.uiLoadingMap.get(e).push(t):this.uiLoadingMap.set(e,[t]),t},s.removeUILoadingUuid=function(e,t){if(!this.uiLoadingMap.has(e))return!1;var n=this.uiLoadingMap.get(e).indexOf(t);return-1!==n&&(this.uiLoadingMap.get(e).splice(n,1),!0)},s.createUI=function(e,t,n){var i=this,r=t?"":this.addTouchMask();if(e){var o=this.addUILoadingUuid(e),a=this.getUIInScene(e);if(M(a,!0)&&!0===this.getBaseView(a).isSingleton)setTimeout((function(){M(i)&&(i.removeTouchMask(r),!1!==i.removeUILoadingUuid(e,o)&&(M(a,!0)?n(a):i.createUI(e,t,n)))}));else{var s=t?"":this.showLoading();this.load(e,(function(t){if(M(i)){if(i.removeTouchMask(r),!1===i.removeUILoadingUuid(e,o))return i.hideLoading(s);if(t instanceof C)return n(i.parsingScene(t,e),t.scene),void i.hideLoading(s);var a=i.getUIInScene(e);M(a,!0)&&!1!==i.getBaseView(a).isSingleton?(n(a),i.hideLoading(s)):(n(i.parsingPrefab(t,e)),i.hideLoading(s))}}))}}else setTimeout((function(){M(i)&&(i.removeTouchMask(r),n(null))}))},s.showDefault=function(e){this.defaultUI?this.show({name:this.defaultUI,data:this.defaultData,onShow:e}):(b.inst.manager.ui.showToast("请先设置首界面\n在setting.ts中修改defaultUI",100),e&&e(),this.warn("defaultUI不存在，请在setting.ts中修改"))},s.isShow=function(e){return!!this.getUIInShowing(e)||this.isInQueue(e)||this.isLoading(e)},s.isInQueue=function(e){return!!this.showQueue.find((function(t){return t.name==e}))},s.isLoading=function(e){return this.uiLoadingMap.has(e)&&this.uiLoadingMap.get(e).length>0},s.putInShowQueue=function(e){"join"===e.queue||0===this.showQueue.length?this.showQueue.push(e):this.showQueue.splice(1,0,e),1===this.showQueue.length&&this.consumeShowQueue()},s.consumeShowQueue=function(){var e=this;if(0!==this.showQueue.length){var t=this.showQueue[0];this.show({name:t.name,data:t.data,onShow:t.onShow,onHide:function(n){t.onHide&&t.onHide(n),e.showQueue.shift(),e.consumeShowQueue()},onError:t.onError?function(n,i){var r=t.onError(n,i);return e.showQueue.shift(),e.consumeShowQueue(),r}:void 0,top:t.top,attr:t.attr,silent:t.silent})}},s.showUI=function(e){var n=this,i=e.name,r=e.data,o=e.onShow,a=e.onHide,s=e.onError,u=e.top,h=void 0===u||u,l=e.attr,c=void 0===l?null:l,d=e.silent,g=void 0!==d&&d;this.createUI(i,g,(function(u,l){if(!u){if(n.error("show",i+" 不存在或加载失败"),s&&!0!==s(i+" 不存在或加载失败",t.ErrorCode.LoadError))return;return n.scheduleOnce((function(){return n.showUI(e)}),1),void(g||n.showLoading(1))}!l&&h&&u.setSiblingIndex(-1);var d=n.getBaseView(u);n.uiShowingMap.set(d,i),d.constructor.prototype.show.call(d,r,c,(function(e){n.uiShowingMap.set(d,i),o&&o(e)}),(function(e){n.uiShowingMap.delete(d),a&&a(e)}),(function(e){if(e)n.uiShowingMap.delete(d),s&&s(e,t.ErrorCode.LogicError);else if(B.isPage(i))if(n.uiShowingMap.set(d,i),M(n.currPage,!0)&&n.currPage!==d&&n.currPage.isShow&&n.currPage.constructor.prototype.hide.call(n.currPage,{name:i}),n.currPage=d,l)n.currScene!==i&&(n.currScene=i,f.runSceneImmediate(l,null,(function(){n.log("切换场景: "+i)})));else if(n.currScene!==Z){n.currScene=Z;var r=new E(Z);r.autoReleaseAssets=!0,f.runSceneImmediate(r,null,(function(){n.log("切换场景: UIRoot")}))}}))}))},s.show=function(e){var n=this,i=e.name,r=e.data,o=e.queue,a=e.onError,s=e.silent,u=void 0!==s&&s;if(o)this.putInShowQueue(e);else{this.log("show: "+i);var h=u?"":this.showLoading();b.inst.lib.task.execute((function(o){n.checkUIValid(i,r,(function(r){return-1===r?(n.error("show",i+" 不存在或加载失败"),a&&!0!==a(i+" 不存在或加载失败",t.ErrorCode.LoadError)?n.hideLoading(h):o(1)):0===r?(n.warn("show",i+" 无效"),n.uninstallUI(i),a&&a(i+" 无效",t.ErrorCode.InvalidError),void n.hideLoading(h)):(n.showUI(e),void n.hideLoading(h))}))}))}},s.showAsync=function(e){var t=this;return new Promise((function(n){t.show(o({},e,{onHide:function(e){n(e)}}))}))},s.hide=function(e){var t=e.name,n=e.data,i=e.onHide,r=this.getUIInShowing(t,!0);if(this.log("hide: "+t),0===r.length&&(!this.uiLoadingMap.has(t)||0===this.uiLoadingMap.get(t).length))return this.warn("hide",t+" 不存在");this.uiLoadingMap.has(t)&&(this.uiLoadingMap.get(t).length=0);for(var o=r.length-1;o>=0;o--){var a=r[o],s=this.getBaseView(a);this.currPage===s&&(this.currPage=null),s.constructor.prototype.hide.call(s,n,i)}},s.pop=function(e){var t=e.name,n=e.data,i=e.onHide,r=this.getUIInShowing(t,!0);if(this.uiLoadingMap.has(t)&&this.uiLoadingMap.get(t).length)return this.uiLoadingMap.get(t).pop(),void this.log("pop: "+t);if(r.length){var o=r.pop(),a=this.getBaseView(o);return this.currPage===a&&(this.currPage=null),a.constructor.prototype.hide.call(a,n,i),void this.log("pop: "+t)}this.warn("pop",t+" 不存在")},s.shift=function(e){var t=e.name,n=e.data,i=e.onHide,r=this.getUIInShowing(t,!0);if(r.length){var o=r[0],a=this.getBaseView(o);return this.currPage===a&&(this.currPage=null),a.constructor.prototype.hide.call(a,n,i),void this.log("shift: "+t)}if(this.uiLoadingMap.has(t)&&this.uiLoadingMap.get(t).length)return this.uiLoadingMap.get(t).shift(),void this.log("shift: "+t);this.warn("shift",t+" 不存在")},s.hideAll=function(e){var t=this,n=void 0===e?{}:e,i=n.data,r=n.exclude;this.log("hideAll"),this.uiShowingMap.forEach((function(e,n){B.isPaper(e)||r&&-1!==r.indexOf(e)||n!==t.currPage&&n.constructor.prototype.hide.call(n,i)})),this.uiLoadingMap.forEach((function(e,t){B.isPaper(t)||r&&-1!==r.indexOf(t)||(e.length=0)}))},s.showLoading=function(e){var t=this;void 0===e&&(e=0),this.loading.getComponentInChildren(N).onEnter();var n=this.createUUID();return this.showLoadingMap.set(n,!0),e>0&&this.scheduleOnce((function(){t.hideLoading(n)}),e),n},s.hideLoading=function(e){e&&(this.showLoadingMap.delete(e),0===this.showLoadingMap.size&&this.loading.getComponentInChildren(N).onExit())},s.addTouchMask=function(e){var t=this;void 0===e&&(e=0),this.addTouchMaskListener();var n=this.createUUID();return this.touchMaskMap.set(n,!0),e>0&&this.scheduleOnce((function(){t.removeTouchMask(n)}),e),n},s.removeTouchMask=function(e){e&&(this.touchMaskMap.delete(e),this.removeTouchMaskListener())},s.showToast=function(e,t){if(!this.toast)return this.error("showToast","请确认首场景中「Root2D/Manager/UIManager」的「Toast Pre」属性存在");this.toast.getComponent(H).add({message:e,timeout:t})},s.showAlert=function(e,t,n){},s.showConfirm=function(e,t,n,i){},s.clearToast=function(){this.toast&&this.toast.getComponent(H).clear()},s.setTouchEnabled=function(e){e?(this.touchEnabled=!0,this.removeTouchMaskListener()):(this.addTouchMaskListener(),this.touchEnabled=!1),this.warn("setTouchEnabled",this.touchEnabled)},s.onUserInterface=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];h.prototype.on.apply(this.UserInterface,t)},s.onceUserInterface=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];h.prototype.once.apply(this.UserInterface,t)},s.offUserInterface=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];h.prototype.off.apply(this.UserInterface,t)},s.targetOffUserInterface=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];h.prototype.targetOff.apply(this.UserInterface,t)},s.onUIRoot2D=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];h.prototype.on.apply(this.UserInterface,t)},s.onceUIRoot2D=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];h.prototype.once.apply(this.UserInterface,t)},s.offUIRoot2D=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];h.prototype.off.apply(this.UserInterface,t)},s.targetOffUIRoot2D=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];h.prototype.targetOff.apply(this.UserInterface,t)},s.sortUserInterface=function(e){var t;null==(t=this.UserInterface)||null==(t=t.getChildByName(e))||null==(t=t.getComponent(_))||t.updateZOrder()},a(t,[{key:"camera",get:function(){return this.Root2D.getComponent(P).cameraComponent}},{key:"canvas",get:function(){return this.Root2D.getComponent(P)}}]),t}(D)).setting={},G.ErrorCode=Y,G.ViewName=$,G.MiniViewName=ee,z=t((Q=G).prototype,"loadingPre",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(Q.prototype,"shadePre",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(Q.prototype,"toastPre",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=Q))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgrLoading.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,n,s,o,a,h,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,a=e.Graphics,h=e.UITransform,g=e.Component}],execute:function(){var c,d,l,p,u,f,v;s._RF.push({},"4a8e5aXrnhKSo0IF6zGgjon","UIMgrLoading",void 0);var m=o.ccclass,w=o.property,S=o.requireComponent;e("default",(c=m("UIMgrLoading"),d=S(a),l=S(h),p=w({tooltip:"等待几秒后开始动画"}),c(u=d(u=l((v=i((f=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return i=e.call.apply(e,[this].concat(s))||this,r(i,"delay",v,n(i)),i.progress=0,i.ringScale=1,i.reverse=!1,i.angleSpeed=120,i.ringSpeed=.02,i.inited=!1,i.drawing=!1,i.timedown=0,i}t(i,e);var s=i.prototype;return s.onEnter=function(){this.inited||(this.inited=!0,this.progress=0,this.ringScale=1,this.node.angle=0,this.reverse=!1,this.drawing=!1,this.timedown=this.delay,this.getComponent(a).clear())},s.onExit=function(){this.inited=!1,this.drawing=!1},s.onDraw=function(){var e=this.node.getComponent(h),i=this.getComponent(a),t=e.width*(.5-e.anchorX),r=e.height*(.5-e.anchorY),n=Math.min(e.width/2,e.height/2),s=Math.PI;if(i.clear(),this.reverse){var o=.5*Math.PI+0,g=.5*Math.PI+2*this.progress*s+0;i.arc(t,r,n,o,g,!0)}else{var c=.5*Math.PI-0,d=.5*Math.PI-2*this.progress*s-0;i.arc(t,r,n,c,d,!1)}i.stroke()},s.update=function(e){if(this.inited){if(!this.drawing){if(this.timedown>0&&(this.timedown-=e),!(this.timedown<=0))return;this.drawing=!0}this.node.angle-=this.angleSpeed*e,(this.node.angle>=360||this.node.angle<=-360)&&(this.node.angle=this.node.angle%360),this.ringScale>0?(this.progress=Math.min(1,this.progress+this.ringSpeed*this.ringScale),1==this.progress&&(this.ringScale=-1,this.reverse=!this.reverse)):(this.progress=Math.max(0,this.progress+this.ringSpeed*this.ringScale),0==this.progress&&(this.ringScale=1,this.reverse=!this.reverse)),this.onDraw()}},i}(g)).prototype,"delay",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=f))||u)||u)||u));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgrShade.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,o,s,p,a,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,p=e._decorator,a=e.UIOpacity,d=e.Component}],execute:function(){var c,h,y,u,l,g;s._RF.push({},"d02952bsB1JPJ4xXteObDOr","UIMgrShade",void 0);var f=p.ccclass,b=p.property,_=p.requireComponent;e("default",f("UIMgrShade")(c=_(a)((y=t((h=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_delay",y,r(t)),n(t,"_begin",u,r(t)),n(t,"_end",l,r(t)),n(t,"_speed",g,r(t)),t.inited=!1,t.drawing=!1,t.timedown=0,t}i(t,e);var s=t.prototype;return s.init=function(e,t,i,n){this.delay=e,this.begin=t,this.end=i,this.speed=n,this.inited||(this.inited=!0,this.drawing=!1,this.timedown=this.delay,this.node.getComponent(a).opacity=0)},s.clear=function(){this.inited=!1,this.drawing=!1},s.update=function(e){if(this.inited){if(!this.drawing){if(this.timedown>0&&(this.timedown-=e),!(this.timedown<=0))return;this.node.getComponent(a).opacity=this.begin,this.drawing=!0}var t=this.node.getComponent(a);this.speed>0?(t.opacity+=this.speed*e,t.opacity>this.end&&(t.opacity=this.end)):this.speed<0&&(t.opacity+=this.speed*e,t.opacity<this.end&&(t.opacity=this.end)),t.opacity==this.end&&this.clear()}},o(t,[{key:"delay",get:function(){return this._delay},set:function(e){this._delay=Math.max(e,0)}},{key:"begin",get:function(){return this._begin},set:function(e){e>=0&&e<=255&&(this._begin=e)}},{key:"end",get:function(){return this._end},set:function(e){e>=0&&e<=255&&(this._end=e)}},{key:"speed",get:function(){return this.begin==this.end?0:this.begin>this.end?this._speed>0?-this._speed:this._speed:this._speed>=0?this._speed:-this._speed},set:function(e){this._speed=e}}]),t}(d)).prototype,"_delay",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(h.prototype,"delay",[b],Object.getOwnPropertyDescriptor(h.prototype,"delay"),h.prototype),u=t(h.prototype,"_begin",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(h.prototype,"begin",[b],Object.getOwnPropertyDescriptor(h.prototype,"begin"),h.prototype),l=t(h.prototype,"_end",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 255}}),t(h.prototype,"end",[b],Object.getOwnPropertyDescriptor(h.prototype,"end"),h.prototype),g=t(h.prototype,"_speed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),t(h.prototype,"speed",[b],Object.getOwnPropertyDescriptor(h.prototype,"speed"),h.prototype),c=h))||c)||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgrToast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIMgrToastCell.ts"],(function(e){var t,o,i,n,r,s,a,l,p,c,h,u,g,f,d,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,a=e._decorator,l=e.UITransform,p=e.Prefab,c=e.NodePool,h=e.instantiate,u=e.UIOpacity,g=e.tween,f=e.Tween,d=e.view,m=e.Component},function(e){y=e.default}],execute:function(){var v,T,C,z,M,P;s._RF.push({},"cde15KM9mxA9L3SJ78TjOHf","UIMgrToast",void 0);var I=a.property,S=a.ccclass,b=a.requireComponent;e("default",(v=S("UIMgrToast"),T=b(l),C=I(p),v(z=T((P=t((M=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"cell",P,n(t)),t.lifeTime=2,t.outTime=.2,t.squeezeSpeed=200,t.pool=new c,t}o(t,e);var s=t.prototype;return s.add=function(e){var t=this,o=this.pool.get()||h(this.cell);o.setPosition(0,0,0),o.parent=this.node,o.active=!0,o.getComponent(y).init(e.message),o.getComponent(u).opacity=255,g(o.getComponent(u)).delay(e.timeout||this.lifeTime).to(this.outTime,{opacity:0}).call((function(){t.pool.put(o)})).start()},s.clear=function(){for(var e=this.node.children,t=e.length-1;t>=0;t--)f.stopAllByTarget(e[t].getComponent(u)),e[t].destroy()},s.onDestroy=function(){this.clear(),this.pool.clear()},s.update=function(e){for(var t=this.node.children,o=t.length-1,i=!1;o>=0;o--){var n=o===t.length-1,r=t[o];if(i)f.stopAllByTarget(r.getComponent(u)),this.pool.put(r);else if(n){var s=0-r.getComponent(l).height/2,a=r.position.y+s;if(a>s){var p=Math.max(-this.squeezeSpeed*e*(t.length-o),s-a);r.setPosition(r.position.add3f(0,p,0))}}else{var c=t[o+1],h=r.getComponent(l),g=c.getComponent(l),m=r.position.y-h.height/2-6,y=c.position.y+g.height/2;if(m<y){var v=Math.min(this.squeezeSpeed*e*(t.length-o-1),y-m);r.setPosition(r.position.add3f(0,v,0)),m>d.getVisibleSize().height/2&&(i=!0,f.stopAllByTarget(r.getComponent(u)),this.pool.put(r))}else if(m>y){var T=Math.max(-this.squeezeSpeed*e*(t.length-o),y-m);r.setPosition(r.position.add3f(0,T,0))}}}},r(t,[{key:"size",get:function(){return this.node.children.length}}]),t}(m)).prototype,"cell",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=M))||z)||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgrToastCell.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,o,l,s,a,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,s=t.UIOpacity,a=t.UITransform,c=t.Label,u=t.Component}],execute:function(){var p,f,h,g,v,d,y;o._RF.push({},"6cc63HWsI5O44ve4wfEKIc0","UIMgrToastCell",void 0);var I=l.ccclass,w=l.property,m=l.requireComponent;t("default",(p=I("UIMgrToastCell"),f=m(s),h=m(a),g=w(c),p(v=f(v=h((y=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,r(e,"title",y,n(e)),e}i(e,t);var o=e.prototype;return o.init=function(t){t.split("\n").find((function(t){return t.length>30}))?(this.title.overflow=c.Overflow.RESIZE_HEIGHT,this.title.getComponent(a).width=600):this.title.overflow=c.Overflow.NONE,this.title.string=t,this.title.updateRenderData(!0)},o.unuse=function(){this.title.string=""},e}(u)).prototype,"title",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=d))||v)||v)||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIMgrZOrder.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,o,d,h;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator,i=e.Node,o=e.director,d=e.Director,h=e.Component}],execute:function(){var s;r._RF.push({},"ad5cbUQY55AwqzdOZrQBim5","UIMgrZOrder",void 0);var c=n.ccclass;e("default",c("UIMgrZOrder")(s=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).zOrder=!1,t.tempArr=[],t}t(r,e);var n=r.prototype;return n.onLoad=function(){this.checkUpdateZOrder(),this.node.on(i.EventType.CHILD_ADDED,this.onChildAdded,this),this.node.on(i.EventType.CHILD_REMOVED,this.onChildRemoveed,this),i.EventType.CHILDREN_ORDER_CHANGED?this.node.on(i.EventType.CHILDREN_ORDER_CHANGED,this.checkUpdateZOrder,this):this.node.on(i.EventType.SIBLING_ORDER_CHANGED,this.checkUpdateZOrder,this)},n.onDestroy=function(){o.off(d.EVENT_AFTER_UPDATE,this.updateZOrder,this),this.node.off(i.EventType.CHILD_ADDED,this.onChildAdded,this),this.node.off(i.EventType.CHILD_REMOVED,this.onChildRemoveed,this),i.EventType.CHILDREN_ORDER_CHANGED?this.node.off(i.EventType.CHILDREN_ORDER_CHANGED,this.checkUpdateZOrder,this):this.node.off(i.EventType.SIBLING_ORDER_CHANGED,this.checkUpdateZOrder,this)},n.onChildAdded=function(e){this.checkUpdateZOrder(),e.on(i.EventType.TRANSFORM_CHANGED,this.checkUpdateZOrder,this)},n.onChildRemoveed=function(e){e.off(i.EventType.TRANSFORM_CHANGED,this.checkUpdateZOrder,this)},n.checkUpdateZOrder=function(){this.zOrder||(this.zOrder=!0,o.once(d.EVENT_AFTER_UPDATE,this.updateZOrder,this))},n.updateZOrder=function(){this.zOrder&&(Array.prototype.push.apply(this.tempArr,this.node.children),this.tempArr.sort((function(e,t){return e.position.z-t.position.z||e.getSiblingIndex()-t.getSiblingIndex()})).forEach((function(e,t){e.setSiblingIndex(t)})),this.zOrder=!1,this.tempArr.length=0)},r}(h))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/utils.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){var e,n,i;t("utils",void 0),r._RF.push({},"08accz7kGpP5JQpoL+Br7Sw","utils",void 0),n=e||(e=t("utils",{})),i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_+",n.strEncode=function(t,r){for(var e="",n=0;n<t.length;n++){for(var l=t.charCodeAt(n).toString(2),o=16-l.length,c=0;c<o;c++)l="0"+l;e+=l}var s=e.length%6;if(s)for(var a=0;a<6-s;a++)e+="0";for(var g="";e.length;)g+=i[parseInt(e.slice(0,6),2)],e=e.slice(6);for(var h="",f=0;f<g.length;f++){var u=(i.indexOf(g[f])+r.charCodeAt(f%r.length))%i.length;h+=i.substring(u,u+1)}return h},n.strDecode=function(t,r){for(var e="",n=0;n<t.length;n++){var l=i.indexOf(t[n]);(l=(l-r.charCodeAt(n%r.length))%i.length)<0&&(l+=i.length),e+=i.substring(l,l+1)}for(var o="",c=0;c<e.length;c++){for(var s=i.indexOf(e[c]).toString(2),a=6-s.length,g=0;g<a;g++)s="0"+s;o+=s}o.length%16>0&&(o=o.slice(0,-o.length%16));for(var h="";o.length;)h+=String.fromCharCode(parseInt(o.slice(0,16),2)),o=o.slice(16);return h},r._RF.pop()}}}));

System.register("chunks:///_virtual/Utils2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(n){var e,t,r,o,i,u,a,l,c,f,s,d,h,p,v,m,g,y,w,T,M,S;return{setters:[function(n){e=n.asyncToGenerator,t=n.extends},function(n){r=n.cclegacy,o=n.v2,i=n.UITransform,u=n.v3,a=n.Vec2,l=n.Vec3,c=n.assetManager,f=n.Prefab,s=n.instantiate,d=n.sp,h=n.SpriteFrame,p=n.Texture2D,v=n.Sprite,m=n.Node,g=n.Label,y=n.RichText,w=n.Layout,T=n.director},function(n){M=n.JSB,S=n.DEV}],execute:function(){n({TransPos:function(n,e,t){return e.getComponent(i).convertToNodeSpaceAR(n.getComponent(i).convertToWorldSpaceAR(t))},TransPos2:function(n,e,t){return e.getComponent(i).convertToNodeSpaceAR(n.getComponent(i).convertToWorldSpaceAR(t))},V2:function(n){return new a(n.x,n.y)},V3:function(n){return new l(n.x,n.y,0)},and:function(n){return 0==n.length||n.every((function(n){return!!n}))},byteToInt:function(n){return(n[0]<<24)+(n[1]<<16)+(n[2]<<8)+n[3]},clone:Z,compareVersion:function(n,e){n=n.split("."),e=e.split(".");var t=Math.max(n.length,e.length);for(;n.length<t;)n.push("0");for(;e.length<t;)e.push("0");for(var r=0;r<t;r++){var o=parseInt(n[r]),i=parseInt(e[r]);if(o>i)return 1;if(o<i)return-1}return 0},convertPosition:k,date2BeijingUnixMilli:function(n){var e=288e5;if("number"==typeof n){var t=new Date(n),r=60*t.getTimezoneOffset()*1e3;return t.setTime(t.getTime()+r+e),t}var o=60*n.getTimezoneOffset()*1e3;return n.setTime(n.getTime()+o+e),n},deepClone:function n(e){if(!(e instanceof Object))return;var r=Array.isArray(e)?[].concat(e):t({},e);return Reflect.ownKeys(r).forEach((function(t){r[t]=e[t]instanceof Object?n(e[t]):e[t]})),r},delay:function(n){return A.apply(this,arguments)},enumLength:function(n){var e=0;for(var t in n)isNaN(Number(t))&&e++;return e},findConfig:function(n,e){for(var t=0;t<n.length;++t)if(e(n[t]))return n[t];return null},formatHour:function(n,e){void 0===e&&(e="second");"micosecond"==e?n/=36e5:"second"==e?n/=3600:"minute"==e&&(n/=60);var t=(""+n).split(".");return t[0]+"."+(t[1]?t[1].substr(0,2):"0")},formatLongName:function(n,e){void 0===e&&(e=0);for(var t=0,r=0;r<n.length;r++)if(n.charCodeAt(r)>255?t+=2:t++,t>=e){n=n.slice(0,r+1)+"...";break}return n},formatMinute:function(n,e){void 0===e&&(e=!1);var t=~~((n=~~n)/3600);e&&(n%=3600);var r=~~(n/60),o=n%60,i="";e&&(t<10&&(i+="0"),i+=t+":");r<10&&(i+="0");i+=r+":",o<10&&(i+="0");return i+=""+o},formatMinuteUnit:function(n,e){void 0===e&&(e=!1);var t=~~((n=~~n)/3600);e&&(n%=3600);var r=~~(n/60),o=n%60,i="";e&&t>0&&(i+=t+"h");r>0&&(i+=r+"m");o>0&&(i+=o+"s");return i},formatNumberDot:function(n){var e=(n||0).toString(),t="";for(;e.length>3;)t=","+e.slice(-3)+t,e=e.slice(0,e.length-3);e&&(t=e+t);return t},formatStrEnter:function(n,e,t){void 0===e&&(e=10);void 0===t&&(t=!1);for(var r=t?"<br/>":"\n",o=[],i=0,u=0,a=0;a<n.length;a++)n.charCodeAt(a)>255?i+=2:i++,i>=e&&(o.push(n.slice(u,a)),u=a,i=0);o.push(n.slice(u));for(var l="",c=0,f=o.length;c<f;c++)l+=o[c],c<f-1&&(l+=r);return l},formatTime:function(n){var e=new Date(n).getTime(),t=36e5,r=24*t,o=30*r,i=(new Date).getTime()-e,u="";if(i<0)return"刚刚";var a=i/o,l=i/(7*r),c=i/r,f=i/t,s=i/6e4,d=i/31104e6;if(d>=1)return Math.floor(d)+"年前";u=a>=1?Math.floor(a)+"月前":l>=1?Math.floor(l)+"周前":c>=1?Math.floor(c)+"天前":f>=1?Math.floor(f)+"小时前":s>=1?Math.floor(s)+"分钟前":"刚刚";return u},formatTimeHMS:q,formatTimeHMS_str:function(n,e,t,r){void 0===e&&(e=!0);void 0===t&&(t=!1);void 0===r&&(r=0);var o=q(n=~~n),i="",u=0;if(o.hour>23&&t){var a=~~(o.hour/24);i+=a+(e?"天":"d"),o.hour-=24*a,u++}o.hour>0&&(!r||u<r)&&(i+=o.hour+(e?"小时":"h"),u++);o.min>0&&(!r||u<r)&&(i+=o.min+(e?"分钟":"m"),u++);o.sec>0&&(!r||u<r)&&(i+=o.sec+(e?"秒":"s"),u++);return i},formateDate:function(n){var e=n.getFullYear(),t=J(n.getMonth()+1),r=J(n.getDate()),o=J(n.getHours()),i=J(n.getMinutes());J(n.getSeconds());return e+"/"+t+"/"+r+" "+o+":"+i},getBit:function(n,e){void 0===e&&(e=1);return n.toFixed(e)},getChoice:function(n,e){if(n.length!=e.length)return void console.error("概率数组和元素数组不匹配");var t=0,r=Math.random(),o=0;n.forEach((function(n){return o+=n}));for(var i=0;i<n.length;i++){var u=e[i],a=n[i]/o;if(r<=t+a)return u;t+=a}return e[e.length-1]},getCount:function(n){for(var e=0,t=0;t<n.length;t++)n[t]&&e++;return e},getDeltaTime:function(n,e){return n-e},getRes:_,getTimeStamp:function(){return(new Date).getTime()},getUrlParamMap:function(){if(!location.search&&!location.hash)return null;var n={},e=function(e){for(var t=e.split("&"),r=0;r<t.length;r++){var o=t[r].split("=");n[o[0]]=decodeURIComponent(o[1])}};location.hash&&e(location.hash.substr(1));if(location.search){var t=location.search.indexOf("?");if(-1!=t){var r=location.search.substr(t+1);r=r.split("!")[0],e(r)}}return n},getZeroTimeStamp:function(){return new Date((new Date).setHours(0,0,0,0)).getTime()},hasStr:function(n,e){return-1!=n.indexOf(e)},initResLoader:function(n,e){b=n,C=e},inject:function(n,e,t){void 0===t&&(t=!0);t&&(e=Z(e));for(var r in n)e.hasOwnProperty(r)&&(n[r]=e[r])},invokeCallback:function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];n&&"function"==typeof n&&n.apply(null,Array.prototype.slice.call(arguments,1))},isApp:G,isDevelopment:function(){return S},isNullEmptyOrSpace:function(n){return null==n||0==n.replace(/\s/g,"").length},isQQ:function(){return!!window.qq},isSameDay:function(n,e){return new Date(n).toDateString()==new Date(e).toDateString()},isTT:function(){return!!window.tt},isValue:function(n){return null!=n},loadBundle:D,loadBundleRes:P,loadImage:function(n,e,t,r){return z.apply(this,arguments)},loadNode:function(n,e){return U.apply(this,arguments)},loadRemote:function(n,e,t,r){return V.apply(this,arguments)},loadRes:I,loadSpine:function(n){return L.apply(this,arguments)},log:function(n,e){var t=n[e];delete this[e]&&Object.defineProperty(n,e,{get:function(){return console.log("Get "+e+" returned "+t),t},set:function(n){console.log("Set "+e+" to "+n),t=n},enumerable:!0,configurable:!0})},mapToObj:function(n){var e=Object.create(null);return n.forEach((function(n,t){e[t]=n})),e},obj2Urlstr:function(n){return Object.keys(n).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n[e]))})).join("&")},objToMap:function(n,e){void 0===e&&(e=!1);var t=new Map;return Object.keys(n).forEach((function(r){e?t.set(parseInt(r),n[r]):t.set(r,n[r])})),t},path2uuid:j,preloadBundleRes:E,preloadBundles:function(){return N.apply(this,arguments)},preloadRes:function(n,e){return B.apply(this,arguments)},promiseCancelable:function(n){var e=!1;return{promise:new Promise((function(t,r){n.then((function(n){return e?r({isCanceled:!0}):t(n)})),n.catch((function(n){return r(e?{isCanceled:!0}:n)}))})),cancel:function(){e=!0}}},randomByWeight:function(n,e){if(n.length!=e.length)return void console.error("权重随机输入参数长度不等");var t=0;e.forEach((function(n){return t+=n}));for(var r=Math.random()*t,o=e[0],i=1;i<e.length;i++){if(r<o)return i-1;o+=e[i]}return e.length-1},randomElement:function(n){return n&&0!=n.length?n[Math.floor(Math.random()*n.length)]:null},randomInt:function(n,e){return Math.floor(K(n,e))},randomInts:function(n,e,t){var r,o=[];return function i(u){for(;u<t;u++){for(var a in r=parseInt(Math.random()*(e-n+1)+n),o)if(o[a]==r){i(u);break}o[u]=r}}(0),o},randomNumber:K,randomOf:function(n,e,t){void 0===t&&(t=function(n){return n});return t(Math.random())*(e-n)+n},rangeValue:function(n,e,t){return n=Math.max(e,n),n=Math.min(t,n)},removeFromArr:function(n,e){var t;-1!=(t=n.indexOf(e))&&n.splice(t,1)},scaleImage:W,segmentFunc:function(n,e){return n>e?e:n},serializable:function(n,e){n.constructor.serializeKeys||(n.constructor.serializeKeys=[]);n.constructor.serializeKeys.push(e)},setDownloaderRemoteAddress:function(n){c.downloader._remoteServerAddress&&(c.downloader._remoteServerAddress=n)},showNodeDebug:function(){var n=T.getScene().getComponentsInChildren(v),e=0,t=[],r={};n.forEach((function(n){return t.push(n.node)})),t.forEach((function(n){r[n.parent.name]?r[n.parent.name]++:r[n.parent.name]=1,e++})),console.log("总共:"+e+"个节点,纹理父节点详情:",r)},showUiDebug:Q,shuffle:function(n,e){void 0===e&&(e=!1);var t=[];t=e?n:function(n){return n.slice(0)}(n);for(var r=0;r<t.length;r++){var o=(u=0,a=r,Math.floor(Math.random()*(a-u+1)+u)),i=t[r];t[r]=t[o],t[o]=i}var u,a;return t},sub:function(n,e){return new a(n.x,e.x).subtract(e)},sub3:function(n,e){return new l(n.x,e.x).subtract(e)},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t];return e},switchMatt:function(n){return n[0].map((function(e,t){return n.map((function(n){return n[t]}))}))},throttle:function(n,e){var t=null;return function(){var r=this,o=arguments;t||(t=setTimeout((function(){n.apply(r,o),t=null}),e))}},time2str:function(n){var e=Math.floor(n/60),t=n%60;return(e<10?"0"+e:e)+":"+(t<10?"0"+t:t)},toParent:function(n,e){if(e==n.parent)return;var t=k(n,e);n.parent=e,n.setPosition(u(t.x,t.y,0))},trans:function(n,e){return e.getComponent(i).convertToNodeSpaceAR(n.getComponent(i).convertToWorldSpaceAR(u()))},uniqueArr:function(n){for(var e=[],t={},r=0;r<n.length;r++)t[n[r]]||(t[n[r]]=!0,e.push(n[r]));return e},updateNow:function(n){var e=n.getComponent(g);if(e)return void e._forceUpdateRenderData();var t=n.getComponent(y);if(t)return n._activeInHierarchy=!0,void t._updateRichText();var r=n.getComponent(w);if(r)return void r.updateLayout()},weightRandom:function(n){for(var e=[],t=0;t<n.length;t++)for(var r=0;r<n[t];r++)e.push(t);var o=Math.floor(Math.random()*e.length);return e.length?e[o]:-1},zero:J}),r._RF.push({},"1760e/czChK4LqMAFWO/74h","Utils",void 0);var b,C,R=n("ImageFillMode",function(n){return n[n.None=0]="None",n[n.BorderScale=1]="BorderScale",n[n.FullScale=2]="FullScale",n}({}));n("FpsMode",function(n){return n[n.Auto=-1]="Auto",n[n.High=60]="High",n[n.Low=45]="Low",n}({})),n("dir2crd",[o(1,0),o(1,-1),o(0,-1),o(-1,-1),o(-1,0),o(-1,1),o(0,1),o(1,1)]),n("Direction",{none:-1,right:0,rightUp:1,up:2,leftUp:3,left:4,leftDown:5,down:6,rightDown:7}),n("DirType",{HORIZONTAL:0,VERTICAL:1});function A(){return(A=e((function*(n){return new Promise((function(e,t){return setTimeout((function(){return e(null)}),n)}))}))).apply(this,arguments)}function D(n){return x.apply(this,arguments)}function x(){return(x=e((function*(n){return new Promise((function(e,t){var r="remoteAsset"==n&&G()?C:"";c.loadBundle(n,{version:r},(function(n,r){n?(console.error("loadBundle error",n),t()):e(r)}))}))}))).apply(this,arguments)}function N(){return(N=e((function*(){console.warn("preloadBundles start");for(var n=["gameAsset","remoteAsset"],e=[],t=0;t<n.length;t++){var r=n[t];e.push(D(r))}yield Promise.all(e),console.warn("preloadBundles end")}))).apply(this,arguments)}function I(n,e){return O.apply(this,arguments)}function O(){return(O=e((function*(n,e){if(!e)return null;for(var t=["resources","artres"],r=0;r<t.length;r++){var o=t[r],i=yield P(n,e,o);if(null!=i)return i}return console.warn("loadRes err",e),null}))).apply(this,arguments)}function B(){return(B=e((function*(n,e){if(!e)return null;for(var t=["resources","artres"],r=0;r<t.length;r++){var o=t[r],i=yield E(n,e,o);if(null!=i)return i}return console.warn("loadRes err",e),null}))).apply(this,arguments)}function P(n,e,t){return F.apply(this,arguments)}function F(){return(F=e((function*(n,t,r){return new Promise(e((function*(e){var o=_(n,t,r);if(null==o){var i=c.getBundle(r);i||(i=yield D(r)),i.getInfoWithPath(t)?i.load(t,n,(function(n,t){e(n?null:t)})):e(null)}else e(o)})))}))).apply(this,arguments)}function E(n,e,t){return H.apply(this,arguments)}function H(){return(H=e((function*(n,t,r){return new Promise(e((function*(e){if(null==_(n,t,r)){var o=c.getBundle(r);o||(o=yield D(r)),o.getInfoWithPath(t)?o.preload(t,n,(function(n,t){e(!n)})):e(null)}else e(!0)})))}))).apply(this,arguments)}function _(n,e,t){if(!e)return null;var r=j(n,e,t);if(!r)return null;var o=c.assets.get(r);return o||null}function U(){return(U=e((function*(n,t){return n?new Promise(e((function*(e){var r=yield I(f,n);if(r){var o=s(r);t&&(o.parent=t),o.position=u(),o.active=!0,e(o)}else e(null)}))):null}))).apply(this,arguments)}function j(n,e,t){var r=c.bundles;if(r.has(t)){var o=r.get(t),i=o.getInfoWithPath(e,n);if(i&&i.redirect){if(!r.has(i.redirect))throw new Error("you need to load bundle "+i.redirect+" first");return(o=r.get(i.redirect)).getAssetInfo(i.uuid).uuid}return i.uuid}}function L(){return(L=e((function*(n){return n?yield I(d.SkeletonData,n):null}))).apply(this,arguments)}function z(){return(z=e((function*(n,e,t,r){if(void 0===t&&(t=R.None),void 0===r&&(r=!0),n&&n.node){r&&(n.spriteFrame=null),n.url=e;var o=yield I(h,e);o&&e&&-1!=n.url.indexOf(o._name)&&n.url==e?n.spriteFrame=o:o||(n.spriteFrame=b),W(n,t)}}))).apply(this,arguments)}function V(){return(V=e((function*(n,e,t,r){return void 0===t&&(t=null),void 0===r&&(r=!0),new Promise((function(o){if(e){var i=t?{ext:t,cacheEnabled:r}:{cacheEnabled:r};c.loadRemote(e,i,(function(e,t){var r=e?null:t;if(r){var o=new h,i=new p;i.image=r,o.texture=i,n.spriteFrame=o}}))}else o(null)}))}))).apply(this,arguments)}function W(n,e){if(void 0===e&&(e=R.BorderScale),n.node&&n.spriteFrame&&e!=R.None){n.sizeMode!=v.SizeMode.CUSTOM&&console.warn("scaleImage sizemode error,node name:"+n.node.name),n.trim=!1;var t=n.spriteFrame.getOriginalSize(),r=n.node.getComponent(i).width,o=n.node.getComponent(i).height,u=r/t.width,a=o/t.height,l=e==R.BorderScale?Math.min(u,a):Math.max(u,a),c=l*t.width/r,f=l*t.height/o;n.node.setScale(c,f,1)}}function k(n,e){var t=u();return n instanceof m?n.isValid&&n.parent&&(t=n.parent.getComponent(i).convertToWorldSpaceAR(n.position)):t=u(n.x,n.y),t=e.getComponent(i).convertToNodeSpaceAR(t),o(t.x,t.y)}function K(n,e){return Math.random()*(e-n)+n}function q(n){return{hour:~~(n/3600),min:~~((n%=3600)/60),sec:n%=60}}function J(n){return n>9?n:"0"+n}function G(){return M}function Q(){var n={},e=0,t={},r=0,o={};!function i(u){if(u&&u.length)for(var a=0;a<u.length;++a){var l=u[a];t[l.name]?t[l.name]++:t[l.name]=1,e++,l.active&&l.isValid&&(l._components&&l._components.forEach((function(e){var t=e.__classname__;n[t]||(n[t]=0),"Label"==t&&(r++,o[l.parent.name]?o[l.parent.name]++:o[l.parent.name]=1),n[t]++})),i(l.children))}}(T.getScene().children),console.log("类详情:",n),console.log("场景树上共有:"+e+"个node"),console.log("节点详情:",t),console.log("场景树上共有:"+r+"个label"),console.log("文本详情:",o)}function Z(n){return JSON.parse(JSON.stringify(n))}window.ui_test=Q;n("SystemInfo",(function(){this.system=void 0,this.platform=void 0,this.brand=void 0,this.model=void 0,this.version=void 0,this.appName=void 0,this.SDKVersion=void 0,this.screenWidth=void 0,this.screenHeight=void 0,this.windowWidth=void 0,this.windowHeight=void 0,this.pixelRatio=void 0,this.statusBarHeight=void 0,this.safeArea=void 0})),n("arabicNumToCNNum",(function n(e){var t=["零","一","二","三","四","五","六","七","八","九","十","百","千","万","亿","万亿"],r={ltHundred:function(n){if(e<=10)return t[e];var r=Math.trunc(n/10),o=(r>1?t[r]:"")+t[10],i=n%10;return 0===i?o:o+t[i]},ltThousand:function(n){var e=t[Math.trunc(n/100)]+t[11],o=n%100;return 0===o?e:o<10?e+t[0]+t[o]:o>=10&&o<20?(e+=t[1]+t[10],o>10&&(e+=t[o-10]),e):e+r.ltHundred(o)},ltTenThousand:function(n){var e=t[Math.trunc(n/1e3)]+t[12],o=n%1e3;return 0===o?e:o<10?e+t[0]+t[o]:o<100?10===o?e+t[0]+t[1]+t[10]:e+t[0]+r.ltHundred(o):e+r.ltThousand(o)},gtBillion:function(e){var r=function(n,e,t){if(n.length>=e)return n;for(var r="";r.length<e-n.length;)r+=t;return r+n},o=e.toString(),i=o.length;if(i>16||i<5)return"";var u=(o=r(o,i<=8?8:i<=12?12:16,"0")).split(/([0-9]{4})/).filter((function(n){return""!==n})),a="",l=u.length;return u.forEach((function(e,r){var o=Number(e),i="";return 0!==o&&(i=n(o)),0!==r&&(o>0&&o<1e3||3===u[r-1].lastIndexOf("0"))&&(a+=t[0]),2===l?0===r?void(a=i+t[13]):void(a+=i):3===l?0===r?void(a=i+t[14]):1===r&&0!==o?void(a+=i+t[13]):void(a+=i):4===l?0===r?void(a=i+t[15]):1===r&&0!==o?void(a+=i+t[14]):2===r&&0!==o?void(a+=i+t[13]):void(a+=i):void 0})),a}},o="";return(e|=0)<0&&(o+="负",e=Math.abs(e)),e<100?o+r.ltHundred(e):e<1e3?o+r.ltThousand(e):e<1e4?o+r.ltTenThousand(e):o+=r.gtBillion(e)}));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});